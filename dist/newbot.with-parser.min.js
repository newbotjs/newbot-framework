!function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=219)}([function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(45),u="object"==typeof self&&self&&self.Object===Object&&self,i=r||u||Function("return this")();e.exports=i},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(7),u=n(92),i=n(93),s="[object Null]",o="[object Undefined]",a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?o:s:a&&a in Object(e)?u(e):i(e)}},function(e,t,n){const r=n(79),u=n(128),i=n(0),s=n(12),o=n(129),a=n(153),c=n(3),p=n(154),l=n(162),f=n(164),h=n(165),d=n(166),A=n(167),g=n(171),v=n(172),E=n(173),_=n(175),b=n(56),C=n(70);e.exports={merge:r,isString:u,isObjectLike:i,isPlainObject:b,isFunction:s,clone:o,cloneDeep:a,isArray:c,get:l,set:p,isUndefined:f,isNull:h,isBoolean:d,isNumber:C,random:A,last:g,flatten:E,isNaN:v,difference:_}},function(e,t,n){var r=n(91),u=n(96);e.exports=function(e,t){var n=u(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(1).Symbol;e.exports=r},function(e,t,n){var r=n(34),u=n(26);e.exports=function(e,t,n,i){var s=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var c=t[o],p=i?i(n[c],e[c],c,n,e):void 0;void 0===p&&(p=e[c]),s?u(n,c,p):r(n,c,p)}return n}},function(e,t,n){var r=n(81),u=n(82),i=n(83),s=n(84),o=n(85);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=u,a.prototype.get=i,a.prototype.has=s,a.prototype.set=o,e.exports=a},function(e,t,n){var r=n(11);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(4),u=n(2),i="[object AsyncFunction]",s="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";e.exports=function(e){if(!u(e))return!1;var t=r(e);return t==s||t==o||t==i||t==a}},function(e,t,n){var r=n(6)(Object,"create");e.exports=r},function(e,t,n){var r=n(105);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(12),u=n(55);e.exports=function(e){return null!=e&&u(e.length)&&!r(e)}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var r=n(59),u=n(119),i=n(15);e.exports=function(e){return i(e)?r(e,!0):u(e)}},function(e,t,n){var r=n(4),u=n(0),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||u(e)&&r(e)==i}},function(e,t,n){const r=n(5);e.exports=class{constructor(e,t){this.decorator=e,this.otherDecorators={},this.name=this.decorator.name,this.instructions=e.instructions,this.params=e.params,this.fnName=t}findParam(e){return 0===r.difference(this.params,e).length}}},function(e,t,n){"use strict";var r={range:function(e,t){var n,r,u=t-e,i=new Array(u);for(n=0,r=e;n<u;n++,r++)i[n]=r;return i},find:function(e,t){var n,r=e.length;if("function"==typeof t){for(n=0;n<r;n++)if(t(e[n]))return e[n]}else for(n=0;n<r;n++)if(e[n]===t)return e[n]},indexOf:function(e,t){var n,r=e.length;if("function"==typeof t){for(n=0;n<r;n++)if(t(e[n]))return n}else for(n=0;n<r;n++)if(e[n]===t)return n;return-1},contains:function(e,t){return-1!==r.indexOf(e,t)},each:function(e,t){var n,r=e.length;for(n=0;n<r;n++)t(e[n],n)},map:function(e,t){var n,r=e.length,u=new Array(r);for(n=0;n<r;n++)u[n]=t(e[n],n);return u},pluck:function(e,t){return r.map(e,(function(e){return e[t]}))},every:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(!t(e[n]))return!1;return!0},some:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t(e[n]))return!0;return!1}};e.exports=r},function(e,t,n){"use strict";var r=n(42),u=n(20),i={build:function(e){function t(t){return e[t.type].apply(null,arguments)}function n(){}function i(e){var n=Array.prototype.slice.call(arguments,1);t.apply(null,[e.expression].concat(n))}function s(e){return function(n){var r=Array.prototype.slice.call(arguments,1);u.each(n[e],(function(e){t.apply(null,[e].concat(r))}))}}var o={grammar:function(e){var n=Array.prototype.slice.call(arguments,1);e.initializer&&t.apply(null,[e.initializer].concat(n)),u.each(e.rules,(function(e){t.apply(null,[e].concat(n))}))},initializer:n,rule:i,named:i,choice:s("alternatives"),action:i,sequence:s("elements"),labeled:i,text:i,simple_and:i,simple_not:i,optional:i,zero_or_more:i,one_or_more:i,group:i,semantic_and:n,semantic_not:n,rule_ref:n,literal:n,class:n,any:n};return r.defaults(e,o),t}};e.exports=i},function(e,t,n){(function(t){const r=n(5),u=n(187),i=n(189),s=n(192),o=n(193),a=n(72),c=n(205),p=(n(212),n(213)),l=n(214),f=n(74),h=n(23),d=n(216);class A{constructor(e={},{loadSkills:t,model:n}={}){this._nlp={},this.config={},this._format={},this._constants={},this._conditions={},this._canActivated=[],this._propagateNlp=null,this._dbHook={},this._hooks={},this.model=n,this._originNlpObject={},this.script="",this._obj=[],this._skills=new Map,this._users=new Map,this.namespace="default",this._functions=c,this.lang=i.instance(),this.options=e,r.isString(e)&&(e={file:e}),Object.keys(e).length>0&&this.loadOptions(e,t)}static get version(){return d.version}static loader({systemjs:e}){e.config({meta:{"*.converse":{loader:t+"/../loader/converse-loader.js"}}}),A.SystemJS=e}async loadNativeNlp(){return this.nlp("__native__",await A.nlpManager(this.model)),this}async loadOptions(e,t=!0){if(e.file&&this.file(e.file),e.code&&this.code(e.code),e.languages&&this.configure({languages:e.languages}),e.nlp)for(let t in e.nlp)this.nlp(t,e.nlp[t]);if(!this.parent&&this.model&&(await this.loadNativeNlp(),this.propagateNlp("__native__")),e.conditions&&this.conditions(e.conditions),e.functions&&this.functions(e.functions),e.constants&&this.constants(e.constants),e.formats)for(let t in e.formats)this.format(t,e.formats[t]);e.canActivated&&this.canActivated(e.canActivated),e.shareFormats&&this.shareFormats(),e.shareNlp&&this.shareNlp(),e.propagateNlp&&this.propagateNlp(e.propagateNlp),e.propagateFormats&&this.propagateFormats(),t&&e.skills&&await this.setSkills(e.skills),this.load()}get users(){return this._users}configure(e){return this.config=r.merge(this.config,e),this}file(e){return this._file=e,this}code(e){return e.code?this.script=e.code:this.script=e,(e.compiled||r.isArray(this.script))&&(this._compiled=e.compiled||this.script),this}async open(e){return this._file&&A.SystemJS&&this.code(await A.SystemJS.import(this._file)),this.script?this._compiled?this._obj=r.merge([],this._compiled):(this._transpiler=new o(this.script,this.namespace),this._obj=this._transpiler.run(e)):this._obj=[],this._interpreter=new a(this._obj,this.users,this),this}continue(e,t,n){return this.exec({type:"continue",data:e},t,n)}exec(e,t,n,u={globalNoExec:!0}){let i;return new Promise(async(o,a)=>{let c;if(await this.open(a),!n){if(!h.is())throw"On NodeJS, you must give an identifier to the user. `.exec(input, userId, output)`";n=t,t="conversescript-user"}if(r.isObjectLike(e)||(e={text:e}),i=this._users.get(t),r.isFunction(n)&&(n={output:n}),i||(i=new s(t),this._users.set(t,i),u.start=!0),n.magicVariables)for(let e in n.magicVariables)i.setMagicVariable(e,n.magicVariables[e]);i.setMagicVariable("userId",t),i.resetHistory(),"continue"==e.type&&i.setMagicVariable("event",e.data);let p=Promise.resolve().then(()=>{if(n.preUser)return n.preUser(i,this)}).then(()=>{!this.parent&&n.debug&&n.debug("begin",{user:i,data:n.data})}).then(()=>this.propagateExec(e,t,n,u)).then(e=>{c=!!e,c=c||!c&&i.getAddress(this.namespace)});p="event"!==e.type&&"continue"!==e.type?p.then(()=>c?this.execNlp(e,t):e):p.then(()=>e),p.then(async e=>{let t={};c&&(t=await this._interpreter.exec(i,e,n,u),t&&(u.globalNoExec&=t.nothing)),o(t)}).catch(e=>{a(e)})}).then(t=>(this.parent||(u.globalNoExec&&this._hooks.nothing&&this._hooks.nothing(e.text,{user:i},n.data),this._hooks.finished&&this._hooks.finished(e.text,{user:i,data:n.data}),n.debug&&n.debug("finish",{nothing:u.globalNoExec,user:i,data:n.data}),i._nlpCache={}),t))}propagateExec(e,t,n,u){const i=this._users.get(t);let s=r.clone(n),o=!0,a=Promise.resolve();return this._skills.forEach(n=>{r.isArray(n)||(n=[n]);for(let c of n)a=a.then(()=>new Promise((n,a)=>{let p=Promise.resolve();if(this._canActivated.length>0&&!this._canActivated.includes(c.name)){c._canActivated=[...this._canActivated,...c._canActivated];for(let e of this._canActivated)this.name!=e&&c._skills.set(e,this._skills.get(e))}c._shareFormat&&(this._format=r.merge(c._format,this._format)),c._users=this._users,c._condition&&(p=c._condition(s.data,i),f(p)||(p=Promise.resolve(p))),p.then((r=!0)=>{if(r)return c.exec(e,t,s,u).then((e={})=>{o&=e.noExec,n()}).catch(a);n()})}))}),a.then(()=>o)}skills(){return this._skills}execNlp(e,t){e.intents={};const n=this.users.get(t);let u=Promise.resolve(),i=Object.keys(this._nlp).map(e=>this._nlp[e]);i=i.sort((e,t)=>(t.priority||0)-(e.priority||0));for(let s of i){const i=s.uuid;u=u.then(r=>{if("break"==r)return;const u=n._nlpCache[s.name];return u&&Object.is(u.object,this._originNlpObject[i])?u.result:s.exec(e.text,t,this)}).then(t=>{if(!t)return;n._nlpCache[s.name]={object:this._originNlpObject[i],result:t};const u=Object.keys(t).length;if(!r.isUndefined(s.priority)&&u>0)return e.intents=t,"break";e.intents=r.merge(e.intents,t)})}return u.then(()=>e)}event(e,...t){let n,u,i,s=Promise.resolve();switch(t.length){case 2:r.isArray(t[0])?u=t[0]:i=t[0],n=t[1];break;case 3:i=t[0],u=t[1],n=t[2];break;default:u=this.users}return u&&!r.isArray(u)&&(u=[u]),u.forEach(t=>{s=s.then(()=>(t.id&&(t=t.id),this.exec({type:"event",name:e,data:i},t,n)))}),s}saveSession(e,t){const n=this.users.get(t);if(!n)throw`Unable to save the user ${t} session because there is no exists`;return n.saveSession(e),this}format(e,t){return this._format[e]=t,this}functions(e){return this._functions=r.merge(this._functions,e),this}execFunction(e,t,n,u,{deep:i,data:s,execution:o,level:a,ins:c}){let p=e;if(i&&(p+="."+i),!this._functions[e])throw`${i.join(".")+"."+e}() not exists`;let l,{$call:f,$mock:h,$params:d}=this._functions[e];this._functions[e].namespace=this.namespace,f||(f=this._functions[e]),i&&i.length>0&&(f=r.get(f,i)),d&&(d=d.map(e=>{switch(e){case"users":return this.users;case"user":return u;case"data":return s;case"execution":return o;case"level":return a;case"ins":return c}return e}),t=t.concat(d));const A={users:this.users,user:u,data:s,execution:o,level:a,ins:c};return this.testing&&this._mock[p]?(l=this._mock[p].call(u,...t),h&&(i&&(h=r.get(h,i)),l=h.call(this._mock[p],l,...d))):(this._functions[e].converse=A,l=f.call(this._functions[e],...t)),n?l&&l.then?l.then(()=>{u.setMagicVariable("error",null),n()}).catch(e=>{u.setMagicVariable("error",e),n()}):void n(l):l}nlp(e,t,n){const r=Symbol();return this._originNlpObject[r]=t,this._nlp[e]||(this._nlp[e]=new p(e,this,{...n,uuid:r})),t&&this._nlp[e].add(t),this._nlp[e]}useNlp(e){return this.currentNlp=e,this}getCurrentNlp(){return this._nlp[this.currentNlp]}async loadLanguage(){if(!this.config.languages)return;const e=this.config.languages.path||"./languages";let{packages:t,default:n}=this.config.languages;r.isArray(t)?this.lang.init(t,e+"/"):(n||(n=Object.keys(t)[0]),this.lang.packages(t).default(n))}load(){return this.loadLanguage(),this}loadUsers(e){for(let t of e){let e=t.id||t._id,n=new s(e).fromJson(t);this.users.set(e,n)}}use(e){this._hooks=e}_findParentPath(){const e=stack(),n=t;for(let t of e){let e=t.getFileName(),r=u.dirname(e);if(r!==n&&!/testing$/.test(r))return r}}async openSkills(e){let t;h.is()||(t=await new Promise(async(e,t)=>{try{const t=await l.readFile(`${this.parentPath}/package.json`,{encoding:"utf-8"});e(JSON.parse(t))}catch(n){if(n)return"ENOENT"==n.code?e():t(n)}})),t&&t.converse&&t.converse.dependencies&&(this.setSkills(t.converse.dependencies),e&&e())}async skill(e,t=e){let n=t.skill||t;n.hasOwnProperty("default")&&(n=n.default);let u,i=n;if(r.isArray(n)){for(let t of n)await this.skill(e,t);return}if(r.isString(n)){let e=n.split(":");if(e.length>1?(i=n=e[1],e=e[0]):e=null,h.is()&&"node"==e)return this;if(!h.is()&&"browser"==e)return this;/\//.test(n)||(i=this.config.pathSkills||"skills",i+=`/${n}`)}else u=n;if(u.hasOwnProperty("default")&&(u=u.default),r.isFunction(u)){const e=t.params||[];u=r.isPlainObject(e)?u.call(u,e):u.apply(u,e),u.then&&(u=await u)}let s=u.skills;if(r.isPlainObject(u)&&(this._propagateNlp&&(u.propagateNlp=this._propagateNlp),this._propagateFormats&&(u.propagateFormats=!0),u=new A(u,{loadSkills:!1})),u.namespace=(this.namespace?this.namespace+"-":"")+e,u.parent=this,u.name=e,u._condition=t.condition,u._shareNlp&&(this._nlp=r.merge(this._nlp,u._nlp),u._nlp={}),this._propagateNlp){if(this.allPropagate)u._nlp=r.merge(this._nlp,u._nlp);else{let e={};for(let t of this._propagateNlp)e[t]=this._nlp[t];u._nlp=r.merge(e,u._nlp)}u._originNlpObject=r.merge(this._originNlpObject,u._originNlpObject)}if(this._propagateFormats&&(u._format=r.merge(this._format,u._format)),this._skills.has(e)){const t=this._skills.get(e);u=r.isArray(t)?[...t,u]:[t,u]}return this._skills.set(e,u),s&&await u.setSkills(s),this}async setSkills(e){for(let t in e)await this.skill(t,e[t]);return this}getSkill(e){return this._skills.get(e)}shareFormats(){this._shareFormat=!0}shareNlp(){this._shareNlp=!0}propagateNlp(e){return this._propagateNlp||(this._propagateNlp=[]),r.isArray(e)?(this._propagateNlp=[...this._propagateNlp,...e],this):(r.isString(e)&&this._propagateNlp.push(e),this)}get allPropagate(){return 0==this._propagateNlp.length}propagateFormats(){this._propagateFormats=!0}conditions(e){this._conditions=r.merge(this._conditions,e)}constants(e){this._constants=r.merge(this._constants,e)}canActivated(e){this._canActivated=e}getAllIntents(){let e=[],t=this.open().then(()=>{e=this._interpreter.decorators.get("Intent")});return this._skills.forEach(n=>{r.isArray(n)||(n=[n]);for(let r of n)t=t.then(()=>r.getAllIntents()).then(t=>e=e.concat(t.map(e=>(e._skill=r,e))))}),t.then(()=>e)}}e.exports=A}).call(this,"/")},function(e,t){e.exports=new class{is(){return"undefined"!=typeof navigator}}},function(e,t,n){var r=n(6)(n(1),"Map");e.exports=r},function(e,t,n){var r=n(97),u=n(104),i=n(106),s=n(107),o=n(108);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=u,a.prototype.get=i,a.prototype.has=s,a.prototype.set=o,e.exports=a},function(e,t,n){var r=n(48);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(112);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(53)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(114),u=n(0),i=Object.prototype,s=i.hasOwnProperty,o=i.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(e){return u(e)&&s.call(e,"callee")&&!o.call(e,"callee")};e.exports=a},function(e,t,n){(function(e){var r=n(1),u=n(115),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===i?r.Buffer:void 0,a=(o?o.isBuffer:void 0)||u;e.exports=a}).call(this,n(27)(e))},function(e,t,n){(function(e){var r=n(45),u=t&&!t.nodeType&&t,i=u&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===u&&r.process,o=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=o}).call(this,n(27)(e))},function(e,t,n){var r=n(26),u=n(11),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];i.call(e,t)&&u(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var u=typeof e;return!!(t=null==t?n:t)&&("number"==u||"symbol"!=u&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(59),u=n(132),i=n(15);e.exports=function(e){return i(e)?r(e):u(e)}},function(e,t,n){var r=n(136),u=n(64),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return i.call(e,t)})))}:u;e.exports=o},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,u=e.length;++n<r;)e[u+n]=t[n];return e}},function(e,t,n){var r=n(140),u=n(24),i=n(141),s=n(142),o=n(143),a=n(4),c=n(46),p=c(r),l=c(u),f=c(i),h=c(s),d=c(o),A=a;(r&&"[object DataView]"!=A(new r(new ArrayBuffer(1)))||u&&"[object Map]"!=A(new u)||i&&"[object Promise]"!=A(i.resolve())||s&&"[object Set]"!=A(new s)||o&&"[object WeakMap]"!=A(new o))&&(A=function(e){var t=a(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case p:return"[object DataView]";case l:return"[object Map]";case f:return"[object Promise]";case h:return"[object Set]";case d:return"[object WeakMap]"}return t}),e.exports=A},function(e,t){const n={"variable.not.defined":["ReferenceError",e=>`${e.variable} is not defined`],"function.not.defined":["ReferenceError",e=>`${e.name}(...) function is not defined`],"arithmetic.error":["ArithmeticError",(e,t)=>"Expression is not correct. "+t.message],"type.error":["TypeError",(e,t)=>"Type is not correct. "+t.message]};e.exports=class{constructor(e,t,n){this.script=e,this.namespace=t,this.reject=n}throw(e,t,r){let u,i,s;if(!e)throw r;if(n[t]?(i=n[t][0],s=n[t][1]):(i="InternalError",s=()=>r.message),s=s(e,r),e._file){let{line:t,column:n}=e._file.start;u=this.makeError(i,s,{line:t,column:n})}else u=new Error(s);if(this.reject)return u;throw u}syntax(e){if(!e.location)throw e;const{line:t,column:n}=e.location.start,r=this.makeError("syntax","Syntax Error:"+e.message,{line:t,column:n});if(!this.reject)throw r;this.reject(r)}makeError(e,t,n){var r,u=n.line,i=n.column,s=(n.filename,this.script||n.src),o=u+(i?":"+i:"");const a=this.namespace?this.namespace.split("-").join(" / "):"unknow",c=`Skill : ${a}. Line ${u}`;if(s&&u>=1&&u<=s.split("\n").length){var p=s.split("\n"),l=Math.max(u-3,0),f=Math.min(p.length,u+3);r=c+"\n\n"+p.slice(l,f).map((function(e,t){var n=t+l+1,r=(n==u?"  > ":"    ")+n+"| ",s=r+e;return n===u&&i>0&&(s+="\n",s+=Array(r.length+i).join("-")+"^"),s})).join("\n")+"\n\n"+t}else r=c+":"+o+"\n\n"+t;const h=new Error(r);return h.skill=a,h.line=u,h.column=i,h}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports={keys:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},values:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n},clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},defaults:function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(n in e||(e[n]=t[n]))}}},function(e,t,n){"use strict";function r(e,t){this.name="GrammarError",this.message=e,this.location=t,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}n(222).subclass(r,Error),e.exports=r},function(e,t,n){var r=n(9),u=n(86),i=n(87),s=n(88),o=n(89),a=n(90);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=u,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,e.exports=c},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(41))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(26),u=n(11);e.exports=function(e,t,n){(void 0===n||u(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(6),u=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=u},function(e,t,n){(function(e){var r=n(1),u=t&&!t.nodeType&&t,i=u&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===u?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(27)(e))},function(e,t,n){var r=n(28);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(113),u=n(29),i=n(30);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(u(e))}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(15),u=n(0);e.exports=function(e){return u(e)&&r(e)}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(4),u=n(29),i=n(0),s="[object Object]",o=Function.prototype,a=Object.prototype,c=o.toString,p=a.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!i(e)||r(e)!=s)return!1;var t=u(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},function(e,t,n){var r=n(116),u=n(16),i=n(33),s=i&&i.isTypedArray,o=s?u(s):r;e.exports=o},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r=n(118),u=n(31),i=n(3),s=n(32),o=n(35),a=n(57),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),p=!n&&u(e),l=!n&&!p&&s(e),f=!n&&!p&&!l&&a(e),h=n||p||l||f,d=h?r(e.length,String):[],A=d.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||l&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,A))||d.push(g);return d}},function(e,t,n){var r=n(61),u=n(122),i=n(124);e.exports=function(e,t){return i(u(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(11),u=n(15),i=n(35),s=n(2);e.exports=function(e,t,n){if(!s(n))return!1;var o=typeof t;return!!("number"==o?u(n)&&i(t,n.length):"string"==o&&t in n)&&r(n[t],e)}},function(e,t,n){var r=n(44),u=n(130),i=n(34),s=n(131),o=n(134),a=n(49),c=n(51),p=n(135),l=n(137),f=n(138),h=n(139),d=n(39),A=n(144),g=n(145),v=n(52),E=n(3),_=n(32),b=n(149),C=n(2),m=n(151),x=n(36),F=1,y=2,D=4,B="[object Arguments]",w="[object Function]",j="[object GeneratorFunction]",P="[object Object]",k={};k[B]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[P]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[w]=k["[object WeakMap]"]=!1,e.exports=function e(t,n,S,O,$,I){var N,R=n&F,T=n&y,L=n&D;if(S&&(N=$?S(t,O,$,I):S(t)),void 0!==N)return N;if(!C(t))return t;var V=E(t);if(V){if(N=A(t),!R)return c(t,N)}else{var U=d(t),M=U==w||U==j;if(_(t))return a(t,R);if(U==P||U==B||M&&!$){if(N=T||M?{}:v(t),!R)return T?l(t,o(N,t)):p(t,s(N,t))}else{if(!k[U])return $?t:{};N=g(t,U,R)}}I||(I=new r);var H=I.get(t);if(H)return H;I.set(t,N),m(t)?t.forEach((function(r){N.add(e(r,n,S,r,t,I))})):b(t)&&t.forEach((function(r,u){N.set(u,e(r,n,S,u,t,I))}));var z=L?T?h:f:T?keysIn:x,q=V?void 0:z(t);return u(q||t,(function(r,u){q&&(r=t[u=r]),i(N,u,e(r,n,S,u,t,I))})),N}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(38),u=n(29),i=n(37),s=n(64),o=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=u(e);return t}:s;e.exports=o},function(e,t,n){var r=n(38),u=n(3);e.exports=function(e,t,n){var i=t(e);return u(e)?i:r(i,n(e))}},function(e,t,n){var r=n(3),u=n(156),i=n(157),s=n(160);e.exports=function(e,t){return r(e)?e:u(e,t)?[e]:i(s(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,u=Array(r);++n<r;)u[n]=t(e[n],n,e);return u}},function(e,t,n){var r=n(18),u=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}},function(e,t,n){var r=n(4),u=n(0),i="[object Number]";e.exports=function(e){return"number"==typeof e||u(e)&&r(e)==i}},function(e,t,n){var r=n(38),u=n(174);e.exports=function e(t,n,i,s,o){var a=-1,c=t.length;for(i||(i=u),o||(o=[]);++a<c;){var p=t[a];n>0&&i(p)?n>1?e(p,n-1,i,s,o):r(o,p):s||(o[o.length]=p)}return o}},function(e,t,n){const r=n(5),u=n(194),i=n(197),s=n(198),o=n(74),a=n(199),c=n(200),p=n(75),l=n(40);class f{static isSystemFunction(e){return-1!=["Input","Prompt","Pause"].findIndex(t=>t==e)}constructor(e,t,n,r,u){this._nothing=!1,this.user=e,this._input=t,this.input=""+t.text,this.intents=t.intents,"event"===t.type&&(this.event={type:t.type,name:t.name,data:t.data}),this.output=n.output,this.session=n.session,this.propagate=r,this.start=r.start,this.options=n,this.interpreter=u,this.converse=this.interpreter.converse,this.parent=this.converse.parent,this.decorators=u.decorators,this.hooks=u.converse._hooks,this.obj=u._obj,this.namespace=u.namespace,this._finishScript=this.options._finishScript,this._errorScript=this.options._errorScript,this.error=new l(u.converse.script,this.namespace,this._errorScript),this.user.setMagicVariable("text",this.input),this.instructionsRoot(()=>{this.event?this.triggerEvent():this.go().catch(this._errorScript)})}deepBlock(e,t,n=0){const u=t[n],{index:i}=this.interpreter.index[u];let s=e.instructions[i];s.conditionsElse&&u==s.conditionsElse.id&&(s=s.conditionsElse);const o=r.merge(s,{indexBlock:i});return t[n+1]?[o,...this.deepBlock(s,t,n+1)]:[o]}triggerEvent(){let e=this.decorators.get("Event",["on",this.event.name]);"start"==this.event.name&&(e=e.concat(this.decorators.get("Event","start"))),e.length>0?(this.event.data&&this.user.setMagicVariable("event",this.event.data),this.decorators.exec(e,this)):(this._noExec=!0,this.end())}triggerAction(){const e=this.action(this.input);if(e){this.user.setMagicVariable("action",e.value);const t=this.decorators.get("Action",e.name);if(t.length>0)return this.decorators.exec(t,this),!0}}action(e){const t=e.match(/^action\?([a-zA-Z0-9_-]+)(=?)(.*)$/);if(!t)return!1;const n={name:t[1]};return t[3]&&(n.value=t[3]),n}async go(e=0){const t=this,n=this.interpreter.index[this.user.getAddress(this.namespace)];let u=!1,i=!1;const s={start:this.decorators.get("Event","start"),startAndIntent:this.decorators.get("Event","startAndIntent"),nothing:this.decorators.get("Event","nothing")};if(this.user.addressStackIslocked(this.namespace))return this.stopScript();if(this.triggerAction())return this.stopScript();if(this.decorators.get("Intent").length&&(i=await this.decorators.execMethod("Intent","run",this),i&&(u=!0)),!i&&n){let{index:t,level:i,deep:s}=n,o=this.interpreter.fn[i];this.user.popAddress(this.namespace);const a=t=>{this.execFn(o,t+1,t=>{if(t.hasActivateDecorator)if(!0!==t.value)this.user.popAddress(this.parent.namespace);else if(this.parent){const e=this.parent._canActivated.indexOf(this.converse.name);if(-1!=e&&this.parent._canActivated.length>e+1){const t=this.parent._canActivated[e+1],n=this.parent._skills.get(t);for(let e in n._interpreter.index){const t=n._interpreter.index[e];if(t.hasActivateDecorator){this.user.addAddress(e,t.namespace);break}}}else{const e=this.user._infoAddress.actived[this.parent.namespace];this.unlockParent(e,{activated:!0})}}const n=this.user.getAddress(this.namespace);if(n){const e=this.converse._interpreter.index[n];this.setReturnVariable({name:t.level},t.value,e.level)}else if(this.parent){const e=this.user.getAddress(this.parent.namespace);if(e){const n=this.parent._interpreter.index[e],u=r.last(this.namespace.split("-"));this.parent.bufferFunction=e=>{e.setReturnVariable({name:u+"-"+t.level},t.value,n.level)}}}this.go(e+1)})},c=(e,t,n,r)=>{let u=e[n];n<0?r(e[0]):this.execBlock(u,t+1,i,()=>c(e,u.indexBlock,n-1,r))};if(s.length>0){let e=this.deepBlock(o,s);c(e,t,e.length-1,e=>{a(e.indexBlock)})}else a(t);u=!0}else!i&&this.start&&s.start.length?u=await this.decorators.exec(s.start,this):i&&this.start&&s.startAndIntent.length&&(u=await this.decorators.exec(s.startAndIntent,this),i&&!u&&(u=!0));u||async function(){0===e&&(t._noExec=!0,t._nothing=!0,s.nothing.length&&(t.user.nothingSkill||(t.user.nothingSkill=t)),!t.parent&&t.user.nothingSkill&&await t.user.nothingSkill.execNothing()),t.end()}()}execNothing(){const e=this.decorators.get("Event","nothing");return this._noExec=!1,this.decorators.exec(e,this)}stopScript(){this.parent||(this.user.nothingSkill=null),this._finishScript({noExec:this._noExec,nothing:this._nothing})}end(){this.options.finish&&this.options.finish.call(this),this.user.clearAddress(this.namespace),this.stopScript()}unlockParent(e){this.parent&&this.user.unlockAddressStack(this.parent.namespace,e)}instructionsRoot(e){this.converse.bufferFunction&&(this.converse.bufferFunction(this),this.converse.bufferFunction=null),this.instructions(this.obj,0,"root",e)}async instructions(e,t,n="root",u,i={}){let s=e[t];try{const{isBlock:o}=i,a=({stop:r,value:s}={})=>(r&&(t=e.length,i.value=s,i.stop=r),this.instructions(e,t+1,n,u,i));if(!s){if(o||(this.unlockParent(n),this.options.finishFn&&this.options.finishFn.call(this,n)),u){const e=this.interpreter.fn[n];let t=!1;e&&(t=-1!=e.decorators.findIndex(e=>"Event"==e.name&&e.params&&e.params[0]==p.CAN_ACTIVATE)),u({stop:i.stop,value:i.value,level:n,hasActivateDecorator:t})}return void(o||this.user.garbage(n,this.namespace))}if(!r.isUndefined(s.return)){const e=await this.getValue(s,s.return,n);return void(o?u({stop:!0,value:e}):a({stop:!0,value:e}))}if(s._pointer=t,s._instructions=e,this.debug("ins",{level:n,...s}),s.group){let e=s.group[r.random(0,s.group.length-1)];e.decorators=s.decorators,s=e}if(s.condition)await this.execCondition(s,n,a);else if(s.variable)await this.execVariable(s,n,a);else if(s.loop)await this.execLoop(s,n,a);else if(s.output&&"root"!=n)this.execOutput(s,n,a);else if(s.type&&!i.refresh)switch(s.type){case"function":a();break;case"executeFn":let e=await this.findFunctionAndExec(s,n);this.setReturnVariable(s,e,n),a()}}catch(e){throw this._errorScript(e),this.error.throw(s,e.id,e)}}debug(e,t){this.options.debug&&this.options.debug(e,{namespace:this.namespace,data:this.output.data,user:this.user,...t})}findFunctionAndExec(e,t,n){return e=r.cloneDeep(e),new Promise(async(u,i)=>{try{if(!r.isString(e.name)){const{variable:t,type:n,deep:r}=e.name;t&&(e.name=t),e.deep=r}const i=async(e,i,s)=>{if(e.interpreter.fn[i.name]){const n=i.params,o=e.interpreter.fn[i.name],a=o.params;s&&this.user.lockAddressStack(this.namespace,i.name),this.user.addAddress(i.id,this.namespace);let c=[];if(a)for(let u=0;u<a.length;u++)c.push(new Promise(async s=>{await e.execVariable({variable:a[u],value:r.isUndefined(n[u])?null:await this.getValue(i,n[u],t)},i.name,s)}));return Promise.all(c).then(()=>e.execFn(o,0,e=>{this.user.popAddress(this.namespace),u(e.value)})),!0}if(e.hasApiFn(i.name)){let r=await this.execApiFn(i,t,n,{deep:i.deep,data:this.options.data,context:e});return f.isSystemFunction(i.name)||u(r),!0}return!1};if(!await i(this,e)){const n=this.converse.skills().get(e.name);if(n){e.name=e.deep[0],e.deep.splice(0,1),await i(n._interpreter.execution,e,!0)||this.error.throw(e,"function.not.defined")}else if(e.deep){const n=e.deep.slice(0,-1),i={variable:e.name,deep:n};e.deep.length>1&&(i.type="object");const s=await this.getValue(e,i,t),o=s[r.last(e.deep)];o?u(o.apply(s,e.params)):this.error.throw(e,"function.not.defined")}else this.error.throw(e,"function.not.defined")}}catch(e){i(e)}})}getScope(e){return"root"==e?this.user.getVariables(this.namespace):this.user.getVariableInFonction(this.namespace,e)}getVariable(e,t,n){const u=!r.isUndefined(n);let i=e.variable;if(this.converse._constants[i]){if(u)throw new Error("TypeError: Assignment to constant variable");return this.converse._constants[i]}const s=this.user.getVariableInFonction(this.namespace,t,i);if(/^\$/.test(i)){const r=this.user.getVariable(this.namespace,i);return u&&!this.setDeepObject(e,r,n,t)&&this.user.setVariable(this.namespace,i,n),this.getDeepObject(e,r,t)}if(u&&!this.setDeepObject(e,s,n,t)&&this.user.setVariableInFonction(this.namespace,t,i,n),!r.isUndefined(s))return this.getDeepObject(e,s,t)}setVariable(e,t,n){this.getVariable(e,n,t)}setReturnVariable(e,t,n){let r=e.name;"object"==r.type&&(r=r.variable+"-"+r.deep.join("-")),this.setVariable({variable:"__return_"+r},t,n)}setMagicVar(e,t){this.user.magicVar[e]=t}getMagicVar(e,t,n){const r=this.user.magicVar[e.replace(":","")];return this.getDeepObject(t,r,n)}async _deepObject(e,t,n,u){const i=!r.isUndefined(u);let s=await this.execParams(e,e.deep,n);return r[i?"set":"get"](t,s,u)}getDeepObject(e,t,n){return"object"!=e.type?t:this._deepObject(e,t,n)}setDeepObject(e,t,n,r){return"assignObject"==e.type&&this._deepObject(e,t,r,n)}getValue(e,t,n,u){return new Promise(async(i,o)=>{try{this.getScope(n);let o=t;if(null===o)return i(o);if(t.regexp)o=new RegExp(t.regexp,t.flags.join(""));else if(r.isArray(t))o=await s.map(t,t=>this.getValue(e,t,n));else if(t.expression)o=await this.execExpression(e,t.expression,t.variables,n);else if(t.variable)if(/^:/.test(t.variable)){let e=o.variable;o=this.getMagicVar(e,o,n)}else o=await this.getVariable(t,n);else if(t.text&&!t.__deepIndex)o=await a(t.text,/\{([^\}]+)\}/g,async(r,u)=>this.getValue(e,t.variables[u].value,n));else if("executeFn"==t.type)o=await this.findFunctionAndExec({...t,id:e.id},n);else if(o.__deepIndex)for(let t of o.__deepIndex){let i=await this.getValue(e,r.get(o,t),n,u);r.set(o,t,i)}r.isString(o)&&"#"===o[0]&&(o=await this.translate(e,o.substr(1),n)),i(o)}catch(e){o(e)}})}async execBlock(e,t=0,n,u){let i;if(e.varLocal){let t=await this.getValue(e,e.array,n);if(r.isNumber(t))t=new Array(t+1).fill(0).map((e,t)=>t);else if(r.isPlainObject(t))delete t.__deepIndex,t=Object.values(t);else if(!r.isString(t)&&!r.isArray(t)){const e=new Error("Number, Object, String and Array are only accepted for this loop");throw e.id="type.error",e}e.array=t,i=this.getVariable({variable:"__"+e.varLocal.variable},n),this.setVariable(e.varLocal,e.array[i],n)}await this.instructions(e.instructions,t,n,async t=>{e.loop?e.varLocal?i<e.array.length-1?(this.setVariable({variable:"__"+e.varLocal.variable},i+1,n),await this.execBlock(e,0,n,u)):u(t):this.execCondition(e,n,u):u(t)},{isBlock:!0})}async execLoop(e,t,n){this.setVariable({variable:"__"+e.varLocal.variable},0,t),await this.execBlock(e,0,t,n)}execCondition(e,t,n){return new Promise((n,r)=>{this.getValue(e,e.condition,t).then(n).catch(r)}).then(u=>{switch(e.keyword){case"unknown":u=r.isUndefined(u)||r.isNull(u);break;case"defined":u=!r.isUndefined(u)&&!r.isNull(u)}u?this.execBlock(e,0,t,n):e.conditionsElse?this.execBlock(e.conditionsElse,0,t,n):n()})}execExpression(e,t,n,u){return new Promise(async(s,o)=>{t=(t=(t=(t=(t=await a(t,/\{([0-9]+)\}/g,async(t,i)=>{let s=await this.getValue(e,n[i],u);return/^[0-9]+(\.[0-9]+)?$/.test(s)||r.isBoolean(s)||null===s||(s=`"${s}"`),s})).replace(/'/g,'"')).replace(/not/g,"!")).replace(/and/g,"&&")).replace(/or/g,"||");try{const e=i(t);s(this.arithmetic(e))}catch(e){e.id="arithmetic.error",o(e)}})}arithmetic(e){let t,n;switch(e.left&&(t=this.arithmetic(e.left)),e.right&&(n=this.arithmetic(e.right)),e.type){case"BinaryExpression":switch(e.operator){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"==":return t==n;case">=":return t>=n;case"<=":return t<=n;case">":return t>n;case"<":return t<n}break;case"LogicalExpression":switch(e.operator){case"&&":return t&&n;case"||":return t||n}break;case"UnaryExpression":switch(e.operator){case"!":return!this.arithmetic(e.argument);case"-":return-this.arithmetic(e.argument)}break;default:return e.value}}execVariable(e,t,n){return new Promise((n,r)=>{this.getValue(e,e.value,t).then(n).catch(r)}).then(u=>{let i=this.getScope(t);r.isUndefined(i[e.variable.replace("$","")])||"root"!=t||this.start?(this.setVariable(e,u,t),n()):n()})}async translate(e,t,n,u=[]){const{converse:i}=this.interpreter,s=this.user.getLang()||i.lang.current;let o=i.lang.data[s]&&i.lang.get(t,null,s);if(!o&&i.lang.data[s]){const e=i.lang.getGroup(t);e.length>0&&(t=e[r.random(0,e.length-1)],o=!0)}return o&&(u=await this.execParams(e,u,n),t=i.lang.translate(t,s,...u)),t}execOutput(e,t,n){return new Promise(async(u,i)=>{const{converse:s}=this.interpreter;let a=e.output;if(!this.output)return;if(e.output.variables&&(a=await this.getValue(e,e.output,t)),a=a.replace(/\r$/,""),a=await this.translate(e,a,t,e.params),e.decorators)for(let n of e.decorators)if("Format"==n.name){let r=[...n.params];r=await this.execParams(e,r,t);let u=r[0];s._format[u]&&(r.splice(0,1),a=s._format[u].call(this.converse,a,r,this.options.data,this.user),o(a)&&(a=await a))}const c=e=>{const t=e||a,u=this.output(t,n,{user:this.user});r.isUndefined(u)||n()};this._triggerHook("sending",a,{user:this.user,data:this.options.data},(e,t)=>{if(e)throw e;c(t)})||c()})}execFn(e,t,n){r.isUndefined(this.interpreter.fn[e.name])&&this.error.throw(e,"function.not.defined"),this.instructions(e.instructions,t,e.name,n)}execParams(e,t,n,r){return t?s.map(t,t=>this.getValue(e,t,n,r)):Promise.resolve([])}async execApiFn(e,t,n,r){return f.isSystemFunction(e.name)?(this.user.addAddress(e.id,this.namespace),this._triggerHook("prompt",e.params,{user:this.user,data:this.options.data,level:t}),this.options.waintingInput&&this.options.waintingInput.call(this,e.params,t),void this.stopScript()):(r.execution=r.context||this,r.level=t,r.ins=e,(r.context||this).interpreter.converse.execFunction(e.name,await this.execParams(e,e.params,t,n),n,this.user,r))}hasApiFn(e){return this.converse._functions[e]||f.isSystemFunction(e)}_triggerHook(e,t,n,r,u=!0){let i=!1;return this.hooks[e]&&(i=!0,this.hooks[e](this.input,t,n,r)),u&&this.parent&&this.parent._hooks[e]&&(i=!0,this.parent._hooks[e](this.input,t,n,r)),i}}e.exports=class{constructor(e,t,n){this._obj=e,this.index={},this._users=t,this.var=[],this.fn={},this.converse=n,this.namespace=this.converse.namespace,this.decorators=new c(this),this.organize(this._obj)}organize(e,t="root",n=[]){const r=u=>{let i=e[u];if(i){if(i.id=this.setId(i,t),i.type&&"function"==i.type){this.fn[i.name]=i,this.decorators.add(i);const e=-1!=i.decorators.findIndex(e=>"Event"==e.name&&e.params&&e.params[0]==p.CAN_ACTIVATE);return this.organize(i.instructions,i.name),u++,this.index[i.id]={level:i.name,namespace:this.namespace,index:-1,deep:n,hasActivateDecorator:e},void r(u)}(i.condition||i.loop)&&this.organize(i.instructions,t,n.concat(i.id)),i.conditionsElse&&(i.conditionsElse.id=this.setId(i.conditionsElse,t),this.organize(i.conditionsElse.instructions,t,n.concat(i.conditionsElse.id)),this.index[i.conditionsElse.id]={level:t,index:u,namespace:this.namespace,deep:n},u++),this.index[i.id]={level:t,index:u,namespace:this.namespace,deep:n},u++,r(u)}};r(0)}setId(e,t){let n=t+"-"+u(JSON.stringify(e));this.namespace&&(n+="-"+this.namespace);let r=1;for(;this.index[n+"-"+r];)r++;return n+"-"+r}exec(e,t,n,u){return new Promise((i,s)=>{this.execution=new f(e,t,r.merge({_finishScript:i,_errorScript:s},n),u,this)})}}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t){e.exports=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}},function(e,t,n){const r=n(19);e.exports=class extends r{static get CAN_ACTIVATE(){return"canActivate"}start(){return"start"==this.params[0]}nothing(){return"nothing"==this.params[0]}}},function(e,t,n){"use strict";var r=n(20),u=n(21),i={findRule:function(e,t){return r.find(e.rules,(function(e){return e.name===t}))},indexOfRule:function(e,t){return r.indexOf(e.rules,(function(e){return e.name===t}))},alwaysConsumesOnSuccess:function(e,t){function n(){return!0}function s(){return!1}function o(e){return a(e.expression)}var a=u.build({rule:o,named:o,choice:function(e){return r.every(e.alternatives,a)},action:o,sequence:function(e){return r.some(e.elements,a)},labeled:o,text:o,simple_and:s,simple_not:s,optional:s,zero_or_more:s,one_or_more:o,group:o,semantic_and:s,semantic_not:s,rule_ref:function(t){return a(i.findRule(e,t.name))},literal:function(e){return""!==e.value},class:n,any:n});return a(t)}};e.exports=i},function(e,t){e.exports=function(e){return async(t,n,r)=>{const u=await e.process(t),i={};for(let e of u.entities){let t;e.resolution?t=e.resolution:e.utteranceText&&(t={value:e.utteranceText}),i[e.entity]=t}return i.date&&(i.date.value=i.date.date,delete i.date.date),i.dimension&&(i.distance=Object.assign({},i.dimension),delete i.dimension),i.sentiment=u.sentiment.vote,{[u.intent]:()=>i}}}},function(e,t,n){"use strict";n.r(t);var r=n(22),u=n.n(r),i=n(77),s=n.n(i);u.a.nlpManager=async function(e){const t=new window.NLPJS.NlpManager,n=await fetch(e).then(e=>e.json());return t.import(n),s()(t)},window.Converse=u.a,window.NewBot=u.a},function(e,t,n){var r=n(80),u=n(121)((function(e,t,n){r(e,t,n)}));e.exports=u},function(e,t,n){var r=n(44),u=n(47),i=n(109),s=n(111),o=n(2),a=n(17),c=n(58);e.exports=function e(t,n,p,l,f){t!==n&&i(n,(function(i,a){if(f||(f=new r),o(i))s(t,n,a,p,e,l,f);else{var h=l?l(c(t,a),i,a+"",t,n,f):void 0;void 0===h&&(h=i),u(t,a,h)}}),a)}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(10),u=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():u.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(10);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(10);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(10);e.exports=function(e,t){var n=this.__data__,u=r(n,e);return u<0?(++this.size,n.push([e,t])):n[u][1]=t,this}},function(e,t,n){var r=n(9);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(9),u=n(24),i=n(25),s=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!u||o.length<s-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(12),u=n(94),i=n(2),s=n(46),o=/^\[object .+?Constructor\]$/,a=Function.prototype,c=Object.prototype,p=a.toString,l=c.hasOwnProperty,f=RegExp("^"+p.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||u(e))&&(r(e)?f:o).test(s(e))}},function(e,t,n){var r=n(7),u=Object.prototype,i=u.hasOwnProperty,s=u.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(e){}var u=s.call(e);return r&&(t?e[o]=n:delete e[o]),u}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,u=n(95),i=(r=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(1)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(98),u=n(9),i=n(24);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||u),string:new r}}},function(e,t,n){var r=n(99),u=n(100),i=n(101),s=n(102),o=n(103);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=u,a.prototype.get=i,a.prototype.has=s,a.prototype.set=o,e.exports=a},function(e,t,n){var r=n(13);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(13),u="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===u?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(13),u=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:u.call(t,e)}},function(e,t,n){var r=n(13),u="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?u:t,this}},function(e,t,n){var r=n(14);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(14);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(14);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(14);e.exports=function(e,t){var n=r(this,e),u=n.size;return n.set(e,t),this.size+=n.size==u?0:1,this}},function(e,t,n){var r=n(110)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var u=-1,i=Object(t),s=r(t),o=s.length;o--;){var a=s[e?o:++u];if(!1===n(i[a],a,i))break}return t}}},function(e,t,n){var r=n(47),u=n(49),i=n(50),s=n(51),o=n(52),a=n(31),c=n(3),p=n(54),l=n(32),f=n(12),h=n(2),d=n(56),A=n(57),g=n(58),v=n(117);e.exports=function(e,t,n,E,_,b,C){var m=g(e,n),x=g(t,n),F=C.get(x);if(F)r(e,n,F);else{var y=b?b(m,x,n+"",e,t,C):void 0,D=void 0===y;if(D){var B=c(x),w=!B&&l(x),j=!B&&!w&&A(x);y=x,B||w||j?c(m)?y=m:p(m)?y=s(m):w?(D=!1,y=u(x,!0)):j?(D=!1,y=i(x,!0)):y=[]:d(x)||a(x)?(y=m,a(m)?y=v(m):h(m)&&!f(m)||(y=o(x))):D=!1}D&&(C.set(x,y),_(y,x,E,b,C),C.delete(x)),r(e,n,y)}}},function(e,t,n){var r=n(1).Uint8Array;e.exports=r},function(e,t,n){var r=n(2),u=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(u)return u(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(4),u=n(0),i="[object Arguments]";e.exports=function(e){return u(e)&&r(e)==i}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(4),u=n(55),i=n(0),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&u(e.length)&&!!s[r(e)]}},function(e,t,n){var r=n(8),u=n(17);e.exports=function(e){return r(e,u(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(2),u=n(30),i=n(120),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=u(e),n=[];for(var o in e)("constructor"!=o||!t&&s.call(e,o))&&n.push(o);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(60),u=n(62);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(i--,s):void 0,o&&u(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,s)}return t}))}},function(e,t,n){var r=n(123),u=Math.max;e.exports=function(e,t,n){return t=u(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,o=u(i.length-t,0),a=Array(o);++s<o;)a[s]=i[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=i[s];return c[t]=n(a),r(e,this,c)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(125),u=n(127)(r);e.exports=u},function(e,t,n){var r=n(126),u=n(48),i=n(61),s=u?function(e,t){return u(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=s},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=800,r=16,u=Date.now;e.exports=function(e){var t=0,i=0;return function(){var s=u(),o=r-(s-i);if(i=s,o>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(4),u=n(3),i=n(0),s="[object String]";e.exports=function(e){return"string"==typeof e||!u(e)&&i(e)&&r(e)==s}},function(e,t,n){var r=n(63),u=4;e.exports=function(e){return r(e,u)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(8),u=n(36);e.exports=function(e,t){return e&&r(t,u(t),e)}},function(e,t,n){var r=n(30),u=n(133),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return u(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(53)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(8),u=n(17);e.exports=function(e,t){return e&&r(t,u(t),e)}},function(e,t,n){var r=n(8),u=n(37);e.exports=function(e,t){return r(e,u(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,u=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[u++]=s)}return i}},function(e,t,n){var r=n(8),u=n(65);e.exports=function(e,t){return r(e,u(e),t)}},function(e,t,n){var r=n(66),u=n(37),i=n(36);e.exports=function(e){return r(e,i,u)}},function(e,t,n){var r=n(66),u=n(65),i=n(17);e.exports=function(e){return r(e,i,u)}},function(e,t,n){var r=n(6)(n(1),"DataView");e.exports=r},function(e,t,n){var r=n(6)(n(1),"Promise");e.exports=r},function(e,t,n){var r=n(6)(n(1),"Set");e.exports=r},function(e,t,n){var r=n(6)(n(1),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(28),u=n(146),i=n(147),s=n(148),o=n(50),a="[object Boolean]",c="[object Date]",p="[object Map]",l="[object Number]",f="[object RegExp]",h="[object Set]",d="[object String]",A="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",E="[object Float32Array]",_="[object Float64Array]",b="[object Int8Array]",C="[object Int16Array]",m="[object Int32Array]",x="[object Uint8Array]",F="[object Uint8ClampedArray]",y="[object Uint16Array]",D="[object Uint32Array]";e.exports=function(e,t,n){var B=e.constructor;switch(t){case g:return r(e);case a:case c:return new B(+e);case v:return u(e,n);case E:case _:case b:case C:case m:case x:case F:case y:case D:return o(e,n);case p:return new B;case l:case d:return new B(e);case f:return i(e);case h:return new B;case A:return s(e)}}},function(e,t,n){var r=n(28);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(7),u=r?r.prototype:void 0,i=u?u.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(150),u=n(16),i=n(33),s=i&&i.isMap,o=s?u(s):r;e.exports=o},function(e,t,n){var r=n(39),u=n(0),i="[object Map]";e.exports=function(e){return u(e)&&r(e)==i}},function(e,t,n){var r=n(152),u=n(16),i=n(33),s=i&&i.isSet,o=s?u(s):r;e.exports=o},function(e,t,n){var r=n(39),u=n(0),i="[object Set]";e.exports=function(e){return u(e)&&r(e)==i}},function(e,t,n){var r=n(63),u=1,i=4;e.exports=function(e){return r(e,u|i)}},function(e,t,n){var r=n(155);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t,n){var r=n(34),u=n(67),i=n(35),s=n(2),o=n(69);e.exports=function(e,t,n,a){if(!s(e))return e;for(var c=-1,p=(t=u(t,e)).length,l=p-1,f=e;null!=f&&++c<p;){var h=o(t[c]),d=n;if(c!=l){var A=f[h];void 0===(d=a?a(A,h,f):void 0)&&(d=s(A)?A:i(t[c+1])?[]:{})}r(f,h,d),f=f[h]}return e}},function(e,t,n){var r=n(3),u=n(18),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!u(e))||(s.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var r=n(158),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(u,(function(e,n,r,u){t.push(r?u.replace(i,"$1"):n||e)})),t}));e.exports=s},function(e,t,n){var r=n(159),u=500;e.exports=function(e){var t=r(e,(function(e){return n.size===u&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(25),u="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(u);var n=function(){var r=arguments,u=t?t.apply(this,r):r[0],i=n.cache;if(i.has(u))return i.get(u);var s=e.apply(this,r);return n.cache=i.set(u,s)||i,s};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(161);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(7),u=n(68),i=n(3),s=n(18),o=1/0,a=r?r.prototype:void 0,c=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return u(t,e)+"";if(s(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-o?"-0":n}},function(e,t,n){var r=n(163);e.exports=function(e,t,n){var u=null==e?void 0:r(e,t);return void 0===u?n:u}},function(e,t,n){var r=n(67),u=n(69);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[u(t[n++])];return n&&n==i?e:void 0}},function(e,t){e.exports=function(e){return void 0===e}},function(e,t){e.exports=function(e){return null===e}},function(e,t,n){var r=n(4),u=n(0),i="[object Boolean]";e.exports=function(e){return!0===e||!1===e||u(e)&&r(e)==i}},function(e,t,n){var r=n(168),u=n(62),i=n(169),s=parseFloat,o=Math.min,a=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&u(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=i(e),void 0===t?(t=e,e=0):t=i(t)),e>t){var c=e;e=t,t=c}if(n||e%1||t%1){var p=a();return o(e+p*(t-e+s("1e-"+((p+"").length-1))),t)}return r(e,t)}},function(e,t){var n=Math.floor,r=Math.random;e.exports=function(e,t){return e+n(r()*(t-e+1))}},function(e,t,n){var r=n(170),u=1/0,i=17976931348623157e292;e.exports=function(e){return e?(e=r(e))===u||e===-u?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(2),u=n(18),i=NaN,s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(u(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=a.test(e);return n||c.test(e)?p(e.slice(2),n?2:8):o.test(e)?i:+e}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var r=n(70);e.exports=function(e){return r(e)&&e!=+e}},function(e,t,n){var r=n(71);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){var r=n(7),u=n(31),i=n(3),s=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||u(e)||!!(s&&e&&e[s])}},function(e,t,n){var r=n(176),u=n(71),i=n(60),s=n(54),o=i((function(e,t){return s(e)?r(e,u(t,1,s,!0)):[]}));e.exports=o},function(e,t,n){var r=n(177),u=n(180),i=n(185),s=n(68),o=n(16),a=n(186),c=200;e.exports=function(e,t,n,p){var l=-1,f=u,h=!0,d=e.length,A=[],g=t.length;if(!d)return A;n&&(t=s(t,o(n))),p?(f=i,h=!1):t.length>=c&&(f=a,h=!1,t=new r(t));e:for(;++l<d;){var v=e[l],E=null==n?v:n(v);if(v=p||0!==v?v:0,h&&E==E){for(var _=g;_--;)if(t[_]===E)continue e;A.push(v)}else f(t,E,p)||A.push(v)}return A}},function(e,t,n){var r=n(25),u=n(178),i=n(179);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=u,s.prototype.has=i,e.exports=s},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(181);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(182),u=n(183),i=n(184);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,u,n)}},function(e,t){e.exports=function(e,t,n,r){for(var u=e.length,i=n+(r?1:-1);r?i--:++i<u;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,u=e.length;++r<u;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,u=null==e?0:e.length;++r<u;)if(n(t,e[r]))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var u=e[r];"."===u?e.splice(r,1):".."===u?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,u=function(e){return r.exec(e).slice(1)};function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,u=arguments.length-1;u>=-1&&!r;u--){var s=u>=0?arguments[u]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return(r?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var r=t.isAbsolute(e),u="/"===s(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&u&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var u=r(e.split("/")),i=r(n.split("/")),s=Math.min(u.length,i.length),o=s,a=0;a<s;a++)if(u[a]!==i[a]){o=a;break}var c=[];for(a=o;a<u.length;a++)c.push("..");return(c=c.concat(i.slice(o))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=u(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=u(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return u(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(188))},function(e,t){var n,r,u=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,c=[],p=!1,l=-1;function f(){p&&a&&(p=!1,a.length?c=a.concat(c):l=-1,c.length&&h())}function h(){if(!p){var e=o(f);p=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,p=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function A(){}u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||p||o(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=A,u.addListener=A,u.once=A,u.off=A,u.removeListener=A,u.removeAllListeners=A,u.emit=A,u.prependListener=A,u.prependOnceListener=A,u.listeners=function(e){return[]},u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,n){const r=n(190);var u,i=((u=new r).instance=function(){return u=new r},String.prototype.t=function(...e){return u.translate(this,...e)},"undefined"!=typeof Handlebars&&u.load.Handlebars(Handlebars),"undefined"!=typeof angular&&u.load.Angular(angular),"undefined"!=typeof Vue&&Vue.use(u.load.Vue),u);e.exports=i},function(e,t,n){let r,u=!1;"undefined"==typeof window&&(r=n(191),u=!0),e.exports=class e{constructor(){this.current="en",this.data={},this.options={},this._path=null,this._cache={},this._list=[]}set(e,t){return this.init(e,this._path,t),this}add(e,t,n,r){this.init(e,t,r,{namespace:n})}packages(e,t={}){let n=[];const r=t.namespace||"self";this._cache[r]||(this._cache[r]={});for(let t in e)this._cache[r][t]=e[t],n.push(t);return this.init(n,!1,!1,t)}default(e){this.current=e}all(e,t,n={}){const u=r=>{let u=[],i=/\.json$/;for(let e of r)i.test(e)&&u.push(e.replace(i,""));this.init(u,e,t,n)};t?r.readdir(e,(e,t)=>{if(e)throw e;u(t)}):u(r.readdirSync(e))}init(e,t,n,u={}){let i,s;const o=u.namespace||"self";"function"==typeof t&&(n=t,t=!1),this._path=t,e instanceof Array||(e=[e]),this._list=e;let a=(e=>e+="_"+e.toUpperCase())(this.getUserLanguage().replace(/\-.+/,""));-1==this._list.indexOf(a)?this.current=this._list[0]:this.current=a,t&&(i=t+this.current+".json");let c=(e,r,u)=>{let i;r||(r=this.current),t?(e=e.toString("utf8"),i=JSON.parse(e)):i=e,this._cache[o]||(this._cache[o]={});let[s,a]=i;this.data[r]={},this.options[r]={},this.data[r][o]=this._initMultiple(s),this.options[r][o]=a,this._cache[o][r]=e,n&&!u&&n.call(self)};if(this._cache[o]&&this._cache[o][this.current]){for(let e in this._cache[o])c(this._cache[o][e],e);return this}if(r){if(n){let e=0;for(let u of this._list)r.readFile(t+u+".json",(t,r)=>{if(t)throw t;c(r,u,!0),e++,n&&e==this._list.length&&n.call(this)})}else for(let e of this._list)c(r.readFileSync(t+e+".json"),e,!0);return this}try{s=new XMLHttpRequest}catch(e){s=!1}return s.onreadystatechange=()=>{4==s.readyState&&200==s.status&&c(s.responseText)},s.open("GET",i,!0),s.send(),this}getUserLanguage(){const e=this._list[0];return u?e:navigator.language||navigator.userLanguage||e}_initMultiple(e){let t,n,r={},u={};function i(e,t,n,r){let u={},i=r?r[e]:t[e],s=n.split(" ");for(let r in i){let i=n.replace(e,r);t[n].text?u[i]={text:t[n].text,replacePattern:t[n].replacePattern.map(t=>e==t?r:t)}:u[i]={text:t[n],replacePattern:s.map(t=>e==t?r:t)}}return u}function s(e,t){for(let n in t)e[n]=t[n];return e}const o=JSON.parse(JSON.stringify(e));for(let a in o){let o=/^\$[^ ]+$/.test(a),c=/\[(.+)\]/,p=/\$[^ ]+/g;if(c.test(a)){t=c.exec(a)[1].split(",");for(let n of t)e[a.replace(c,n)]=e[a]}if(p.test(a)&&!o)if(r={},u={},n=a.match(p),r=i(n[0],e,a),n.length>1)for(let t in r)u=i(n[1],r,t,e),s(e,u);else s(e,r);if(o){if(e[a]instanceof Array){let t={},n=a.replace(/^\$/,"");for(let r=0;r<e[a].length;r++)t[n+"_"+r]=e[a][r];e[a]=t}for(let t in e[a])e[t]=e[a][t]}}return e}get(e,t,n){return n=n||this.current,t=t||"self",this.data[n]&&this.data[n][t]?this.replaceWorlds(this.data[n][t][e],e,t):""}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}replaceWorlds(e,t,n){let r={};return e?(e.text&&(r=e,e=e.text),e.replace(/\{([0-9]+)\}/g,(e,u)=>{let i=r.replacePattern||t.split(" ");return this.get(i[u-1],n)})):e}getGroup(e,t="self"){let n=this.data[this.current][t]["$"+e],r=[];for(let e in n)r.push(e);return r}render(e,{patternStart:t="{{",patternEnd:n="}}",pipe:r="|",fnStart:u="",fnEnd:i="",paramsSeparator:s=":"}={},o){const a=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");t=a(t),n=a(n),r=a(r),u=a(u),i=a(i);let c=a(s);const p=new RegExp(`${t}([^${n}]+)${r}[ ]*t(${c}?${u}([^${n}]+)${i})?${n}`,"g");return e=e.replace(p,(e,t,n,r,u,i)=>(t=(t=t.replace(/["']/g,"")).trim(),r=r?(r=r.split(s)).map(e=>((e=e.trim())>=0||e<=0?e=+e:"true"==e?e="true"===e:"false"==e&&(e="false"===e),e)):[],o&&(r=[o,...r]),this.translate(t,...r)))}getPlurial(e,t,n,r){if(n=n||"self",r=r||this.current,e=Math.abs(e),!/^[0-9]+$/.test(e))return!1;let u=this.options[r][n].plurial[t];return u||(u=["s"]),e>2&&u[e-1]?u[e-1]:e>1?u[0]:u[1]||""}format(e,t,n,...r){let u,i,s=-1,o=e.match(/%[sdp]/g);if(!o)return e;for(let e of o)if(s++,"%d"==e)u=r[s];else if("%p"==e)break;return s=-1,e.replace(/%[sdp]([0-9]+)?/g,(e,o)=>(s++,i=void 0!==r[s]?r[s]:e,/^%p/.test(e)&&(null==u&&(u=i),"number"!=typeof u&&(u=0),i=this.getPlurial(u,e.replace("%",""),t,n)),i))}get load(){let t=this;return{Handlebars:e=>(e.registerHelper("t",(function(e,t){var n=t.hash.nb,r=t.hash.if;return void 0===n?e.t():void 0===r?e.t(+n):e.t(r,+n)})),e),Pug:(e={})=>(e.translate=e=>t.render(e),e),Angular(n){n.module("Languages",[]).provider("Languages",(function(){this.init=t.init.bind(e),this.$get=function(){return t}})).filter("t",(function(){return function(e,...t){return e.t(...t)}}))},get Vue(){return{install(e,n){e.Languages=t,e.filter("t",(e,...n)=>t.translate(e,...n))}}}}}translate(e,...t){var n,r,u;if(null==e)return"";let i=t[0];function s(){t.shift(),i=t[0]}if(-1!=this._list.indexOf(t[0])&&(u=i,s()),"boolean"==typeof i){let t=e.match(/\((.*?)\)/);t?(n=t[1].split("|"),r=i?e.replace(t[0],n[0].trim()):e.replace(t[0],n[1].trim())):(n=e.split("|"),r=i?n[0]:n[1]),s()}else r=e;let o=r.split("+"),a="";for(let e of o){let n,r;(n=/(.+)\.(.+)/.exec(e))&&(r=n[1],e=n[2]);let i=this.get(e.trim(),r,u);i&&(a+=this.format(i,r,u,...t)),a+=" "}return this.capitalizeFirstLetter(a.trim())}}},function(e,t){},function(e,t,n){const r=n(5);e.exports=class{constructor(e){this.address={},this._infoAddress={lock:{},actived:{}},this.varFn={},this.magicVar={},this.variables={},this.id=e,this.lang=null,this._history=[],this._nlpCache={}}_createNamespace(e){this.address[e]||(this.address[e]=[]),this.variables[e]||(this.variables[e]={}),this.varFn[e]||(this.varFn[e]={})}addAddress(e,t){this._createNamespace(t),this.address[t].push(e)}getAddress(e){return this._createNamespace(e),r.last(this.address[e])}hasAddress(e){return this._createNamespace(e),this.address[e].length>0}clearAddress(e){this._createNamespace(e),this.address[e]=[]}popAddress(e){this._createNamespace(e),this.address[e].pop()}garbage(e,t){this._createNamespace(t),delete this.varFn[t][e]}hasLockAddressStack(e){return!!this._infoAddress.lock[e]}lockAddressStack(e,t,{activated:n}={}){this._infoAddress.lock[e]=t,n&&(this._infoAddress.actived[e]=t)}unlockAddressStack(e,t,{activated:n}={}){this._infoAddress.lock[e]===t&&(delete this._infoAddress.lock[e],n&&delete this._infoAddress.actived[e])}addressStackIslocked(e){return this._infoAddress.lock[e]}getVariables(e){return this._createNamespace(e),this.variables[e]}getVariable(e,t){return t=t.replace(/^\$/,""),this._createNamespace(e),this.variables[e][t]}setVariable(e,t,n){t=t.replace(/^\$/,""),this._createNamespace(e),this.variables[e][t]=n}getVariableInFonction(e,t,n){return this._createNamespace(e),this.varFn[e][t]||(this.varFn[e][t]={}),n?this.varFn[e][t][n]:this.varFn[e][t]}setVariableInFonction(e,t,n,r){return this._createNamespace(e),this.varFn[e][t]||(this.varFn[e][t]={}),this.varFn[e][t][n]=r}getMagicVariable(e){return this.magicVar[e]}setMagicVariable(e,t){this.magicVar[e]=t}saveSession(e){this.session=e}retrieveSession(){return this.session}setLang(e){this.lang=e}getLang(){return this.lang}addHistory(e){this._history.push(e)}resetHistory(e){this._history=[]}toJson(){return{_current:{_address:this.address,_var:this.varFn,_magicVar:this.magicVar,_infoAddress:this._infoAddress},_session:this.session,data:this.variables,lang:this.lang,id:this.id}}fromJson(e){return this.address=e._current._address||{},this._infoAddress=e._current._infoAddress||{lock:{}},this.varFn=e._current._var||{},this.magicVar=e._current._magicVar||{},this.session=e._session||{},this.variables=e.data||{},this.lang=e.lang,this.id=e.id,this}}},function(e,t,n){(function(t){const r=n(5),u=n(23),i=n(40);let s;s=u.is()?window.newbotParser:t.newbotParser,"undefined"!=typeof window&&(window._=r);e.exports=class{constructor(e,t){this.variables={},this._script=e,this.namespace=t,this.parser=s}run(e){if(u.is()&&!this.parser)throw'You can not use the parser. Integrate rather the "newbot.with-parser.min.js" file';try{return this.parser.parse(this._script)}catch(e){new i(this._script,this.namespace).syntax(e)}}line(e){return e=e.trim(),this.parser.parse(e)}isVariable(){}}}).call(this,n(41))},function(e,t,n){var r,u,i,s,o;r=n(195),u=n(73).utf8,i=n(196),s=n(73).bin,(o=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):u.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=r.bytesToWords(e),a=8*e.length,c=1732584193,p=-271733879,l=-1732584194,f=271733878,h=0;h<n.length;h++)n[h]=16711935&(n[h]<<8|n[h]>>>24)|4278255360&(n[h]<<24|n[h]>>>8);n[a>>>5]|=128<<a%32,n[14+(a+64>>>9<<4)]=a;var d=o._ff,A=o._gg,g=o._hh,v=o._ii;for(h=0;h<n.length;h+=16){var E=c,_=p,b=l,C=f;c=d(c,p,l,f,n[h+0],7,-680876936),f=d(f,c,p,l,n[h+1],12,-389564586),l=d(l,f,c,p,n[h+2],17,606105819),p=d(p,l,f,c,n[h+3],22,-1044525330),c=d(c,p,l,f,n[h+4],7,-176418897),f=d(f,c,p,l,n[h+5],12,1200080426),l=d(l,f,c,p,n[h+6],17,-1473231341),p=d(p,l,f,c,n[h+7],22,-45705983),c=d(c,p,l,f,n[h+8],7,1770035416),f=d(f,c,p,l,n[h+9],12,-1958414417),l=d(l,f,c,p,n[h+10],17,-42063),p=d(p,l,f,c,n[h+11],22,-1990404162),c=d(c,p,l,f,n[h+12],7,1804603682),f=d(f,c,p,l,n[h+13],12,-40341101),l=d(l,f,c,p,n[h+14],17,-1502002290),c=A(c,p=d(p,l,f,c,n[h+15],22,1236535329),l,f,n[h+1],5,-165796510),f=A(f,c,p,l,n[h+6],9,-1069501632),l=A(l,f,c,p,n[h+11],14,643717713),p=A(p,l,f,c,n[h+0],20,-373897302),c=A(c,p,l,f,n[h+5],5,-701558691),f=A(f,c,p,l,n[h+10],9,38016083),l=A(l,f,c,p,n[h+15],14,-660478335),p=A(p,l,f,c,n[h+4],20,-405537848),c=A(c,p,l,f,n[h+9],5,568446438),f=A(f,c,p,l,n[h+14],9,-1019803690),l=A(l,f,c,p,n[h+3],14,-187363961),p=A(p,l,f,c,n[h+8],20,1163531501),c=A(c,p,l,f,n[h+13],5,-1444681467),f=A(f,c,p,l,n[h+2],9,-51403784),l=A(l,f,c,p,n[h+7],14,1735328473),c=g(c,p=A(p,l,f,c,n[h+12],20,-1926607734),l,f,n[h+5],4,-378558),f=g(f,c,p,l,n[h+8],11,-2022574463),l=g(l,f,c,p,n[h+11],16,1839030562),p=g(p,l,f,c,n[h+14],23,-35309556),c=g(c,p,l,f,n[h+1],4,-1530992060),f=g(f,c,p,l,n[h+4],11,1272893353),l=g(l,f,c,p,n[h+7],16,-155497632),p=g(p,l,f,c,n[h+10],23,-1094730640),c=g(c,p,l,f,n[h+13],4,681279174),f=g(f,c,p,l,n[h+0],11,-358537222),l=g(l,f,c,p,n[h+3],16,-722521979),p=g(p,l,f,c,n[h+6],23,76029189),c=g(c,p,l,f,n[h+9],4,-640364487),f=g(f,c,p,l,n[h+12],11,-421815835),l=g(l,f,c,p,n[h+15],16,530742520),c=v(c,p=g(p,l,f,c,n[h+2],23,-995338651),l,f,n[h+0],6,-198630844),f=v(f,c,p,l,n[h+7],10,1126891415),l=v(l,f,c,p,n[h+14],15,-1416354905),p=v(p,l,f,c,n[h+5],21,-57434055),c=v(c,p,l,f,n[h+12],6,1700485571),f=v(f,c,p,l,n[h+3],10,-1894986606),l=v(l,f,c,p,n[h+10],15,-1051523),p=v(p,l,f,c,n[h+1],21,-2054922799),c=v(c,p,l,f,n[h+8],6,1873313359),f=v(f,c,p,l,n[h+15],10,-30611744),l=v(l,f,c,p,n[h+6],15,-1560198380),p=v(p,l,f,c,n[h+13],21,1309151649),c=v(c,p,l,f,n[h+4],6,-145523070),f=v(f,c,p,l,n[h+11],10,-1120210379),l=v(l,f,c,p,n[h+2],15,718787259),p=v(p,l,f,c,n[h+9],21,-343485551),c=c+E>>>0,p=p+_>>>0,l=l+b>>>0,f=f+C>>>0}return r.endian([c,p,l,f])})._ff=function(e,t,n,r,u,i,s){var o=e+(t&n|~t&r)+(u>>>0)+s;return(o<<i|o>>>32-i)+t},o._gg=function(e,t,n,r,u,i,s){var o=e+(t&r|n&~r)+(u>>>0)+s;return(o<<i|o>>>32-i)+t},o._hh=function(e,t,n,r,u,i,s){var o=e+(t^n^r)+(u>>>0)+s;return(o<<i|o>>>32-i)+t},o._ii=function(e,t,n,r,u,i,s){var o=e+(n^(t|~r))+(u>>>0)+s;return(o<<i|o>>>32-i)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(o(e,t));return t&&t.asBytes?n:t&&t.asString?s.bytesToString(n):r.bytesToHex(n)}},function(e,t){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var u=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?t.push(n.charAt(u>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,u=0;r<e.length;u=++r%4)0!=u&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*u+8)-1)<<2*u|n.indexOf(e.charAt(r))>>>6-2*u);return t}},e.exports=r},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){!function(n){"use strict";var r=function(e,t){var n=new Error(e+" at character "+t);throw n.index=t,n.description=e,n},u={"-":!0,"!":!0,"~":!0,"+":!0},i={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},s=function(e){var t,n=0;for(var r in e)(t=r.length)>n&&e.hasOwnProperty(r)&&(n=t);return n},o=s(u),a=s(i),c={true:!0,false:!1,null:null},p=function(e){return i[e]||0},l=function(e,t,n){return{type:"||"===e||"&&"===e?"LogicalExpression":"BinaryExpression",operator:e,left:t,right:n}},f=function(e){return e>=48&&e<=57},h=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=128&&!i[String.fromCharCode(e)]},d=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e>=128&&!i[String.fromCharCode(e)]},A=function(e){for(var t,n,s=0,A=e.charAt,g=e.charCodeAt,v=function(t){return A.call(e,t)},E=function(t){return g.call(e,t)},_=e.length,b=function(){for(var e=E(s);32===e||9===e||10===e||13===e;)e=E(++s)},C=function(){var e,t,n=x();return b(),63!==E(s)?n:(s++,(e=C())||r("Expected expression",s),b(),58===E(s)?(s++,(t=C())||r("Expected expression",s),{type:"ConditionalExpression",test:n,consequent:e,alternate:t}):void r("Expected :",s))},m=function(){b();for(var t=e.substr(s,a),n=t.length;n>0;){if(i.hasOwnProperty(t)&&(!h(E(s))||s+t.length<e.length&&!d(E(s+t.length))))return s+=n,t;t=t.substr(0,--n)}return!1},x=function(){var e,t,n,u,i,o,a,c;if(o=F(),!(t=m()))return o;for(i={value:t,prec:p(t)},(a=F())||r("Expected expression after "+t,s),u=[o,i,a];(t=m())&&0!==(n=p(t));){for(i={value:t,prec:n};u.length>2&&n<=u[u.length-2].prec;)a=u.pop(),t=u.pop().value,o=u.pop(),e=l(t,o,a),u.push(e);(e=F())||r("Expected expression after "+t,s),u.push(i,e)}for(e=u[c=u.length-1];c>1;)e=l(u[c-1].value,u[c-2],e),c-=2;return e},F=function(){var t,n,r;if(b(),t=E(s),f(t)||46===t)return y();if(39===t||34===t)return D();if(91===t)return k();for(r=(n=e.substr(s,o)).length;r>0;){if(u.hasOwnProperty(n)&&(!h(E(s))||s+n.length<e.length&&!d(E(s+n.length))))return s+=r,{type:"UnaryExpression",operator:n,argument:F(),prefix:!0};n=n.substr(0,--r)}return!(!h(t)&&40!==t)&&j()},y=function(){for(var e,t,n="";f(E(s));)n+=v(s++);if(46===E(s))for(n+=v(s++);f(E(s));)n+=v(s++);if("e"===(e=v(s))||"E"===e){for(n+=v(s++),"+"!==(e=v(s))&&"-"!==e||(n+=v(s++));f(E(s));)n+=v(s++);f(E(s-1))||r("Expected exponent ("+n+v(s)+")",s)}return t=E(s),h(t)?r("Variable names cannot start with a number ("+n+v(s)+")",s):46===t&&r("Unexpected period",s),{type:"Literal",value:parseFloat(n),raw:n}},D=function(){for(var e,t="",n=v(s++),u=!1;s<_;){if((e=v(s++))===n){u=!0;break}if("\\"===e)switch(e=v(s++)){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=e}else t+=e}return u||r('Unclosed quote after "'+t+'"',s),{type:"Literal",value:t,raw:n+t+n}},B=function(){var t,n=E(s),u=s;for(h(n)?s++:r("Unexpected "+v(s),s);s<_&&(n=E(s),d(n));)s++;return t=e.slice(u,s),c.hasOwnProperty(t)?{type:"Literal",value:c[t],raw:t}:"this"===t?{type:"ThisExpression"}:{type:"Identifier",name:t}},w=function(e){for(var t,n,u=[],i=!1;s<_;){if(b(),(t=E(s))===e){i=!0,s++;break}44===t?s++:((n=C())&&"Compound"!==n.type||r("Expected comma",s),u.push(n))}return i||r("Expected "+String.fromCharCode(e),s),u},j=function(){var e,t;for(t=40===(e=E(s))?P():B(),b(),e=E(s);46===e||91===e||40===e;)s++,46===e?(b(),t={type:"MemberExpression",computed:!1,object:t,property:B()}):91===e?(t={type:"MemberExpression",computed:!0,object:t,property:C()},b(),93!==(e=E(s))&&r("Unclosed [",s),s++):40===e&&(t={type:"CallExpression",arguments:w(41),callee:t}),b(),e=E(s);return t},P=function(){s++;var e=C();if(b(),41===E(s))return s++,e;r("Unclosed (",s)},k=function(){return s++,{type:"ArrayExpression",elements:w(93)}},S=[];s<_;)59===(t=E(s))||44===t?s++:(n=C())?S.push(n):s<_&&r('Unexpected "'+v(s)+'"',s);return 1===S.length?S[0]:{type:"Compound",body:S}};A.version="0.3.4",A.toString=function(){return"JavaScript Expression Parser (JSEP) v"+A.version},A.addUnaryOp=function(e){return o=Math.max(e.length,o),u[e]=!0,this},A.addBinaryOp=function(e,t){return a=Math.max(e.length,a),i[e]=t,this},A.addLiteral=function(e,t){return c[e]=t,this},A.removeUnaryOp=function(e){return delete u[e],e.length===o&&(o=s(u)),this},A.removeAllUnaryOps=function(){return u={},o=0,this},A.removeBinaryOp=function(e){return delete i[e],e.length===a&&(a=s(i)),this},A.removeAllBinaryOps=function(){return i={},a=0,this},A.removeLiteral=function(e){return delete c[e],this},A.removeAllLiterals=function(){return c={},this},e.exports?t=e.exports=A:t.parse=A}()},function(e,t){e.exports=new class{async map(e,t){for(let n=0;n<e.length;n++)e[n]=await t(e[n]);return e}}},function(e,t){e.exports=function(e,t,n=function(){}){if(!t.global)return function(e,t,n){const r=e.match(t);return r?n(...r,r.index,r.input).then(n=>e.replace(t,n)):Promise.resolve(e)}(e,t,n);const r=e.match(t);if(!r)return Promise.resolve(e);let u=0,i=0;const s=[],o=new RegExp(t.source,t.flags.replace("g","")),a=[];for(;r.length>0;){const t=r.shift(),c=e.indexOf(t,i);s[u]=e.slice(i,c),u++;let p=u;a.push(n(...t.match(o),c,e).then(e=>{s[p]=e})),i=c+t.length,u++}return s[u]=e.slice(i),Promise.all(a).then(()=>s.join(""))}},function(e,t,n){const r=n(201),u=n(40),i=n(5);e.exports=class{constructor(e){this.decorators={},this.interpreter=e,this.error=new u(this.interpreter.converse.script,this.interpreter.namespace);for(let e in r)this.decorators[e]=[]}add(e){if(!e.decorators)return;const{decorators:t,name:n}=e;let u=[];for(let i of t)this.decorators[i.name]||this.error.throw(e,"decorator.error",new Error(`Decorator "${i.name}" not exists`)),u.push(new r[i.name](i,n));for(let e of u){for(let t of u)e.name!=t.name&&(e.otherDecorators[t.name]||(e.otherDecorators[t.name]=[]),e.otherDecorators[t.name].push(t));this.decorators[e.name].push(e)}}get(e,t){let n=this.decorators[e],r=[];if(0===n.length)return[];i.isArray(t)||(t=[t]);for(let e of n)(i.isUndefined(t[0])||e.findParam(t))&&r.push(e);return r}async _exec(e,t,n,u){let i=!1;const s=async e=>{let n=!1;if(e.otherDecorators.Condition)for(let n of e.otherDecorators.Condition){if(!await n.run(t))return!1}const s=this.interpreter.fn[e.fnName],{_canActivated:o,_skills:a}=t.converse,c=e=>{const u=o[e],i=a.get(u),p=i._interpreter.execution.decorators,l=p.get("Event",r.Event.CAN_ACTIVATE);return 0!=l.length&&(p.exec(l,i._interpreter.execution,null,n=>{if(e++,!0!==n.value)return t.end();o[e]?c(e):t.execFn(s,0,()=>t.end())}),n=!0,!0)};return o.length>0&&(c(0)?(t.user.addAddress(s.id,t.namespace),t.user.lockAddressStack(t.namespace,s.name,{activated:!0})):t.debug("warning",{message:"You call skills in the canActivated property but are never triggered"})),i=!0,n||t.execFn(s,0,e=>{if(!u)return t.end();u(e)}),!0};for(let r of e){let e=null;if(n&&r[n]&&(e=r[n](t)),e instanceof Promise){if(await e&&!i){if(await s(r))break}}else{if(await s(r))break}}return i}async execMethod(e,t,n){const r=this.decorators[e];return await this._exec(r,n,t)}async exec(e,t,n,r){return i.isArray(e)||(e=this.get(e,n)),!!e&&await this._exec(e,t,null,r)}}},function(e,t,n){const r=n(75),u=n(202),i=n(203),s=n(204);e.exports={Event:r,Intent:u,Action:i,Condition:s}},function(e,t,n){const r=n(19),u=n(5);e.exports=class extends r{run(e){return new Promise((t,n)=>{const{intents:r}=e;if(this.instructions&&this.instructions.length>0)return void e.execBlock({instructions:this.instructions},0,"test",()=>{t(!0)});if(!r)return t(!1);const i=this.params[0];let s=r[i];if(i.regexp){if(new RegExp(i.regexp,i.flags.join("")).test(e.input))return t(!0)}if(u.isFunction(s)&&(s=s()),s)return e.setMagicVar("intent",s),t(!0);t(!1)})}}},function(e,t,n){const r=n(19);e.exports=class extends r{}},function(e,t,n){const r=n(19);e.exports=class extends r{run(e){return new Promise(async(t,n)=>{const{converse:r,user:u,options:i}=e;for(let e of this.params){let s=r._conditions[e];if(!s)return void n(new Error(`${e} condition function not exists`));let o=s(i.data,u);if(o instanceof Promise&&(o=await o),!o)return void t(!1)}t(!0)})}}},function(e,t,n){const r=n(206),u=n(207),i=n(208),s=n(209),o=n(210),a=n(211);e.exports={Users:r,Array:u,Lang:i,Utils:s,Eval:o,debugger:a}},function(e,t){const n={$params:["users"],nbUsers:e=>e.size,sum(e,t){let n=0;for(let[,r]of t)n+=+r.getVariable(this.namespace,e);return n},avg(e,t){return this.sum(e,t)/this.nbUsers(t)}};e.exports=n},function(e,t){const n={length:e=>e.length,push:(e,t)=>e.push(t),pushOnlyUniq(e,t){return-1===e.indexOf(t)?this.push(e,t):e},indexOf:(e,t)=>e.indexOf(t)};e.exports=n},function(e,t){const n={fr_FR:["Franais","French"],en_EN:["English","English"]},r={$params:["user"],set(e,t){e&&t.setLang(e)},name(e){const t=e.getLang();return n[t][0]}};e.exports=r},function(e,t){const n={uniqid:()=>(new Date).valueOf().toString(36)+Math.random().toString(36).substr(2)};e.exports=n},function(e,t,n){const r=n(72),u={$params:["users","execution"],json(e,t,n){try{const{converse:u,user:i,_input:s,options:o,propagate:a}=n,c=JSON.parse(e);return new r(c,t,n.converse).exec(i,s,o,a)}catch(e){console.log(e)}}};e.exports=u},function(e,t){const n={$params:["user","execution","level"],$call(e,t,n){const{namespace:r}=t,u=(e,t)=>{console.log(`--- ${t} ---`);for(let t in e)console.log(`\n * ${t} = `,JSON.stringify(e[t],null,2));console.log("\n")};console.log("* Skill : "+r),console.log("* User Id : "+e.id),console.log("* Current Lang : "+e.lang),u(e.variables[r],"global variables"),u(e.magicVar,"magic variables"),u(e.varFn[r][n],`${n}(...) function`)}};e.exports=n},function(e,t){e.exports=class{constructor(e,t){this.script=e,this.history=t}organize(){this.script.split("\n");console.log(this.history[0]._file)}display(){const e=this.organize();console.log("--- %s ---",DEBUG);for(let t of e)console.log(t);console.log("------")}}},function(e,t,n){const r=n(5);e.exports=class{constructor(e,t,n={}){this.name=e,this.converse=t,this.options=n,this.uuid=n.uuid,this.priority=this.options.priority?this.options.priority:void 0,this.intents={}}add(e){r.isFunction(e)?this.intents=e:this.intents=r.merge(this.intents,e)}exec(e,t,n=this.converse){return new Promise((u,i)=>{if(n._mockNlp&&n._mockNlp[this.name]){const n=this.converse._mockNlp[this.name](e,t);u({structured:n})}else r.isFunction(this.intents)?this.intents(e,t,n).then(e=>{u({intents:e})}):u()}).then(({structured:r,intents:u}={})=>{u=u||this.intents;let i={};for(let s in u){let o=u[s],a="string"==typeof t?n._users.get(t):t,c=o(e,r,a);c&&(i[s]=c)}return i})}}},function(e,t,n){const r=n(215),u=n(23);e.exports=new class{readFile(e,t){return u.is()?new Promise((t,n)=>{const r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&(200==r.status?t(r.responseText):n(r))},r.open("GET",e,!0),r.send()}):new Promise((n,u)=>{r.readFile(e,t,(e,t)=>{if(e)return u(e);n(t)})})}}},function(e,t){},function(e){e.exports={version:"0.5.0"}},function(e,t,n){"use strict";e.exports={PUSH:0,PUSH_UNDEFINED:1,PUSH_NULL:2,PUSH_FAILED:3,PUSH_EMPTY_ARRAY:4,PUSH_CURR_POS:5,POP:6,POP_CURR_POS:7,POP_N:8,NIP:9,APPEND:10,WRAP:11,TEXT:12,IF:13,IF_ERROR:14,IF_NOT_ERROR:15,WHILE_NOT_ERROR:16,MATCH_ANY:17,MATCH_STRING:18,MATCH_STRING_IC:19,MATCH_REGEXP:20,ACCEPT_N:21,ACCEPT_STRING:22,FAIL:23,LOAD_SAVED_POS:24,UPDATE_SAVED_POS:25,CALL:26,RULE:27,SILENT_FAILS_ON:28,SILENT_FAILS_OFF:29}},function(e,t,n){"use strict";function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}var u={stringEscape:function(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\xFF]/g,(function(e){return"\\x"+r(e)})).replace(/[\u0100-\u0FFF]/g,(function(e){return"\\u0"+r(e)})).replace(/[\u1000-\uFFFF]/g,(function(e){return"\\u"+r(e)}))},regexpClassEscape:function(e){return e.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\x0B").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\xFF]/g,(function(e){return"\\x"+r(e)})).replace(/[\u0100-\u0FFF]/g,(function(e){return"\\u0"+r(e)})).replace(/[\u1000-\uFFFF]/g,(function(e){return"\\u"+r(e)}))}};e.exports=u},function(e,t,n){"use strict";n.r(t);n(220),n(78)},function(e,t,n){(function(e){const t=n(221),r=n(233),u=n(23),i=t.generate(r);u.is()?window.newbotParser=i:e.newbotParser=i}).call(this,n(41))},function(e,t,n){"use strict";var r=n(20),u=n(42),i={VERSION:"0.10.0",GrammarError:n(43),parser:n(223),compiler:n(224),generate:function(e,t){t=void 0!==t?t:{};var n="plugins"in(t=u.clone(t))?t.plugins:[],s={parser:i.parser,passes:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=u.values(e[t]));return n}(i.compiler.passes)};return r.each(n,(function(e){e.use(s,t)})),i.compiler.compile(s.parser.parse(e),s.passes,t)}};e.exports=i},function(e,t,n){"use strict";e.exports={subclass:function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}}},function(e,t,n){"use strict";function r(e,t,n,u){this.message=e,this.expected=t,this.found=n,this.location=u,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.buildMessage=function(e,t){var n={literal:function(e){return'"'+u(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function u(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,u,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=(u=e[t],n[u.type](u));if(i.sort(),i.length>0){for(t=1,r=1;t<i.length;t++)i[t-1]!==i[t]&&(i[r]=i[t],r++);i.length=r}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+u(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){t=void 0!==t?t:{};var n,u={},i={Grammar:Jr},s=Jr,o=function(e,t){return{type:"grammar",initializer:(n=e,r=0,n?n[r]:null),rules:ju(t,0),location:Lr()};var n,r},a=function(e){return{type:"initializer",code:e,location:Lr()}},c="=",p=Vr("=",!1),l=function(e,t,n){return{type:"rule",name:e,expression:null!==t?{type:"named",name:t[0],expression:n,location:Lr()}:n,location:Lr()}},f="/",h=Vr("/",!1),d=function(e,t){return t.length>0?{type:"choice",alternatives:Pu(e,t,3),location:Lr()}:e},A=function(e,t){return null!==t?{type:"action",expression:e,code:t[1],location:Lr()}:e},g=function(e,t){return t.length>0?{type:"sequence",elements:Pu(e,t,1),location:Lr()}:e},v=":",E=Vr(":",!1),_=function(e,t){return{type:"labeled",label:e,expression:t,location:Lr()}},b=function(e,t){return{type:yu[e],expression:t,location:Lr()}},C="$",m=Vr("$",!1),x="&",F=Vr("&",!1),y="!",D=Vr("!",!1),B=function(e,t){return{type:Du[t],expression:e,location:Lr()}},w="?",j=Vr("?",!1),P="*",k=Vr("*",!1),S="+",O=Vr("+",!1),$="(",I=Vr("(",!1),N=")",R=Vr(")",!1),T=function(e){return"labeled"===e.type||"sequence"===e.type?{type:"group",expression:e}:e},L=function(e){return{type:"rule_ref",name:e,location:Lr()}},V=function(e,t){return{type:Bu[e],code:t,location:Lr()}},U={type:"any"},M=Mr("whitespace"),H="\t",z=Vr("\t",!1),q="\v",G=Vr("\v",!1),J="\f",W=Vr("\f",!1),Q=" ",Y=Vr(" ",!1),X="",Z=Vr("",!1),K="\ufeff",ee=Vr("\ufeff",!1),te=/^[\n\r\u2028\u2029]/,ne=Ur(["\n","\r","\u2028","\u2029"],!1,!1),re=Mr("end of line"),ue="\n",ie=Vr("\n",!1),se="\r\n",oe=Vr("\r\n",!1),ae="\r",ce=Vr("\r",!1),pe="\u2028",le=Vr("\u2028",!1),fe="\u2029",he=Vr("\u2029",!1),de=Mr("comment"),Ae="/*",ge=Vr("/*",!1),ve="*/",Ee=Vr("*/",!1),_e="//",be=Vr("//",!1),Ce=function(e){return e},me=Mr("identifier"),xe=function(e,t){return e+t.join("")},Fe="_",ye=Vr("_",!1),De="\\",Be=Vr("\\",!1),we=function(e){return e},je="",Pe=Vr("",!1),ke="",Se=Vr("",!1),Oe=Mr("literal"),$e="i",Ie=Vr("i",!1),Ne=function(e,t){return{type:"literal",value:e,ignoreCase:null!==t,location:Lr()}},Re=Mr("string"),Te='"',Le=Vr('"',!1),Ve=function(e){return e.join("")},Ue="'",Me=Vr("'",!1),He=function(){return Tr()},ze=Mr("character class"),qe="[",Ge=Vr("[",!1),Je="^",We=Vr("^",!1),Qe="]",Ye=Vr("]",!1),Xe=function(e,t,n){return{type:"class",parts:wu(t),inverted:null!==e,ignoreCase:null!==n,location:Lr()}},Ze="-",Ke=Vr("-",!1),et=function(e,t){return e.charCodeAt(0)>t.charCodeAt(0)&&function(e,t){throw t=void 0!==t?t:zr(Or,Sr),function(e,t){return new r(e,null,null,t)}(e,t)}("Invalid character range: "+Tr()+"."),[e,t]},tt=function(){return""},nt="0",rt=Vr("0",!1),ut=function(){return"\0"},it="b",st=Vr("b",!1),ot=function(){return"\b"},at="f",ct=Vr("f",!1),pt=function(){return"\f"},lt="n",ft=Vr("n",!1),ht=function(){return"\n"},dt="r",At=Vr("r",!1),gt=function(){return"\r"},vt="t",Et=Vr("t",!1),_t=function(){return"\t"},bt="v",Ct=Vr("v",!1),mt=function(){return"\v"},xt="x",Ft=Vr("x",!1),yt="u",Dt=Vr("u",!1),Bt=function(e){return String.fromCharCode(parseInt(e,16))},wt=/^[0-9]/,jt=Ur([["0","9"]],!1,!1),Pt=/^[0-9a-f]/i,kt=Ur([["0","9"],["a","f"]],!1,!0),St=".",Ot=Vr(".",!1),$t=function(){return{type:"any",location:Lr()}},It=Mr("code block"),Nt="{",Rt=Vr("{",!1),Tt="}",Lt=Vr("}",!1),Vt=function(e){return e},Ut=/^[{}]/,Mt=Ur(["{","}"],!1,!1),Ht=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,zt=Ur([["a","z"],"",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","",["",""],"","",["",""],"","","","","",["",""],"","","","",["",""],["",""],"","","","","","","","","","",["",""],"","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"","","","","",["",""],["",""],"","","",["",""],"",["",""],["",""],["",""],"","","","","","","","","","","",["",""],"","",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","","","",["",""],["",""],"","",["",""],"",["",""],"","","","",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","",["",""],"","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""]],!1,!1),qt=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,Gt=Ur([["",""],["",""],["",""],"","","","","","",["",""],["",""],"","","","","","","","","","","",["",""],["",""],"",["",""],"","",["",""],["",""],"","","",["",""],"",["",""],["",""],"",["",""],"","",["",""],["",""],"","",["",""],"","","","",["",""],["",""],"",["",""]],!1,!1),Jt=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Wt=Ur(["","","",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],"","",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],"","",["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],!1,!1),Qt=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,Yt=Ur(["","","","",["",""],["",""],["",""],"","",""],!1,!1),Xt=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]/,Zt=Ur([["A","Z"],["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"","",["",""],["",""],"",["",""],"","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],"",["",""],"","","","","","","","","",["",""],"",["",""],["",""],["",""],"",["",""],"","","","","","","","","","","","","","",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],"","","","",["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],"",["",""],"","","",["",""],["",""],["",""],"","",["",""],"",["",""],"","","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","",["",""],["",""],"",["",""]],!1,!1),Kt=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAA7D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,en=Ur(["","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],"",["",""],["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","","",["",""],["",""],"","","",["",""],["",""],"","",["",""],"","",["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"","","","",["",""],"",["",""],["",""],["",""],""],!1,!1),tn=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/,nn=Ur([["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],["",""],"","",["",""],"",["",""],["",""],"",["",""],["",""],["",""],"",["",""],"",["",""],"",["",""],["",""],"",["",""],"","","",["",""],"","",["",""],"","","","",["",""],["",""],["",""],["",""],["",""],"","","","",["",""],["",""],"",["",""],"",["",""],"",["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],"","","",["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],"",["",""],["",""],"",["",""],["",""],"","",["",""],"","",["",""],["",""],"",["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],"","","",["",""],"",["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],"","","","",["",""],["",""],["",""],"",["",""],"","","","","",["",""],["",""]],!1,!1),rn=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,un=Ur([["0","9"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],!1,!1),sn=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,on=Ur([["",""],["",""],["",""],"",["",""],["",""],["",""]],!1,!1),an=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,cn=Ur(["_",["",""],"",["",""],["",""],""],!1,!1),pn=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,ln=Ur([" ","","",["",""],"","",""],!1,!1),fn="break",hn=Vr("break",!1),dn="case",An=Vr("case",!1),gn="catch",vn=Vr("catch",!1),En="class",_n=Vr("class",!1),bn="const",Cn=Vr("const",!1),mn="continue",xn=Vr("continue",!1),Fn="debugger",yn=Vr("debugger",!1),Dn="default",Bn=Vr("default",!1),wn="delete",jn=Vr("delete",!1),Pn="do",kn=Vr("do",!1),Sn="else",On=Vr("else",!1),$n="enum",In=Vr("enum",!1),Nn="export",Rn=Vr("export",!1),Tn="extends",Ln=Vr("extends",!1),Vn="false",Un=Vr("false",!1),Mn="finally",Hn=Vr("finally",!1),zn="for",qn=Vr("for",!1),Gn="function",Jn=Vr("function",!1),Wn="if",Qn=Vr("if",!1),Yn="import",Xn=Vr("import",!1),Zn="instanceof",Kn=Vr("instanceof",!1),er="in",tr=Vr("in",!1),nr="new",rr=Vr("new",!1),ur="null",ir=Vr("null",!1),sr="return",or=Vr("return",!1),ar="super",cr=Vr("super",!1),pr="switch",lr=Vr("switch",!1),fr="this",hr=Vr("this",!1),dr="throw",Ar=Vr("throw",!1),gr="true",vr=Vr("true",!1),Er="try",_r=Vr("try",!1),br="typeof",Cr=Vr("typeof",!1),mr="var",xr=Vr("var",!1),Fr="void",yr=Vr("void",!1),Dr="while",Br=Vr("while",!1),wr="with",jr=Vr("with",!1),Pr=";",kr=Vr(";",!1),Sr=0,Or=0,$r=[{line:1,column:1}],Ir=0,Nr=[],Rr=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=i[t.startRule]}function Tr(){return e.substring(Or,Sr)}function Lr(){return zr(Or,Sr)}function Vr(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ur(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Mr(e){return{type:"other",description:e}}function Hr(t){var n,r=$r[t];if(r)return r;for(n=t-1;!$r[n];)n--;for(r={line:(r=$r[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return $r[t]=r,r}function zr(e,t){var n=Hr(e),r=Hr(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function qr(e){Sr<Ir||(Sr>Ir&&(Ir=Sr,Nr=[]),Nr.push(e))}function Gr(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function Jr(){var e,t,n,r,i,s;if(e=Sr,xu()!==u)if(t=Sr,(n=function(){var e,t;e=Sr,(t=mu())!==u&&Fu()!==u?(Or=e,t=a(t),e=t):(Sr=e,e=u);return e}())!==u&&(r=xu())!==u?t=n=[n,r]:(Sr=t,t=u),t===u&&(t=null),t!==u){if(n=[],r=Sr,(i=Wr())!==u&&(s=xu())!==u?r=i=[i,s]:(Sr=r,r=u),r!==u)for(;r!==u;)n.push(r),r=Sr,(i=Wr())!==u&&(s=xu())!==u?r=i=[i,s]:(Sr=r,r=u);else n=u;n!==u?(Or=e,e=o(t,n)):(Sr=e,e=u)}else Sr=e,e=u;else Sr=e,e=u;return e}function Wr(){var t,n,r,i,s,o;return t=Sr,(n=au())!==u&&xu()!==u?(r=Sr,(i=lu())!==u&&(s=xu())!==u?r=i=[i,s]:(Sr=r,r=u),r===u&&(r=null),r!==u?(61===e.charCodeAt(Sr)?(i=c,Sr++):(i=u,0===Rr&&qr(p)),i!==u&&(s=xu())!==u&&(o=Qr())!==u&&Fu()!==u?(Or=t,t=n=l(n,r,o)):(Sr=t,t=u)):(Sr=t,t=u)):(Sr=t,t=u),t}function Qr(){var t,n,r,i,s,o,a,c;if(t=Sr,(n=Yr())!==u){for(r=[],i=Sr,(s=xu())!==u?(47===e.charCodeAt(Sr)?(o=f,Sr++):(o=u,0===Rr&&qr(h)),o!==u&&(a=xu())!==u&&(c=Yr())!==u?i=s=[s,o,a,c]:(Sr=i,i=u)):(Sr=i,i=u);i!==u;)r.push(i),i=Sr,(s=xu())!==u?(47===e.charCodeAt(Sr)?(o=f,Sr++):(o=u,0===Rr&&qr(h)),o!==u&&(a=xu())!==u&&(c=Yr())!==u?i=s=[s,o,a,c]:(Sr=i,i=u)):(Sr=i,i=u);r!==u?(Or=t,t=n=d(n,r)):(Sr=t,t=u)}else Sr=t,t=u;return t}function Yr(){var e,t,n,r,i;return e=Sr,(t=function(){var e,t,n,r,i,s;if(e=Sr,(t=Xr())!==u){for(n=[],r=Sr,(i=xu())!==u&&(s=Xr())!==u?r=i=[i,s]:(Sr=r,r=u);r!==u;)n.push(r),r=Sr,(i=xu())!==u&&(s=Xr())!==u?r=i=[i,s]:(Sr=r,r=u);n!==u?(Or=e,t=g(t,n),e=t):(Sr=e,e=u)}else Sr=e,e=u;return e}())!==u?(n=Sr,(r=xu())!==u&&(i=mu())!==u?n=r=[r,i]:(Sr=n,n=u),n===u&&(n=null),n!==u?(Or=e,e=t=A(t,n)):(Sr=e,e=u)):(Sr=e,e=u),e}function Xr(){var t,n,r,i;return t=Sr,(n=function(){var t,n,r;t=Sr,n=Sr,Rr++,r=function(){var t;(t=function(){var t;(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,5)===fn?(n=fn,Sr+=5):(n=u,0===Rr&&qr(hn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,4)===dn?(n=dn,Sr+=4):(n=u,0===Rr&&qr(An));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,5)===gn?(n=gn,Sr+=5):(n=u,0===Rr&&qr(vn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,8)===mn?(n=mn,Sr+=8):(n=u,0===Rr&&qr(xn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,8)===Fn?(n=Fn,Sr+=8):(n=u,0===Rr&&qr(yn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,7)===Dn?(n=Dn,Sr+=7):(n=u,0===Rr&&qr(Bn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,6)===wn?(n=wn,Sr+=6):(n=u,0===Rr&&qr(jn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,2)===Pn?(n=Pn,Sr+=2):(n=u,0===Rr&&qr(kn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,4)===Sn?(n=Sn,Sr+=4):(n=u,0===Rr&&qr(On));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,7)===Mn?(n=Mn,Sr+=7):(n=u,0===Rr&&qr(Hn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,3)===zn?(n=zn,Sr+=3):(n=u,0===Rr&&qr(qn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,8)===Gn?(n=Gn,Sr+=8):(n=u,0===Rr&&qr(Jn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,2)===Wn?(n=Wn,Sr+=2):(n=u,0===Rr&&qr(Qn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,10)===Zn?(n=Zn,Sr+=10):(n=u,0===Rr&&qr(Kn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,2)===er?(n=er,Sr+=2):(n=u,0===Rr&&qr(tr));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,3)===nr?(n=nr,Sr+=3):(n=u,0===Rr&&qr(rr));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,6)===sr?(n=sr,Sr+=6):(n=u,0===Rr&&qr(or));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,6)===pr?(n=pr,Sr+=6):(n=u,0===Rr&&qr(lr));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,4)===fr?(n=fr,Sr+=4):(n=u,0===Rr&&qr(hr));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,5)===dr?(n=dr,Sr+=5):(n=u,0===Rr&&qr(Ar));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,3)===Er?(n=Er,Sr+=3):(n=u,0===Rr&&qr(_r));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,6)===br?(n=br,Sr+=6):(n=u,0===Rr&&qr(Cr));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,3)===mr?(n=mr,Sr+=3):(n=u,0===Rr&&qr(xr));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,4)===Fr?(n=Fr,Sr+=4):(n=u,0===Rr&&qr(yr));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,5)===Dr?(n=Dr,Sr+=5):(n=u,0===Rr&&qr(Br));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,4)===wr?(n=wr,Sr+=4):(n=u,0===Rr&&qr(jr));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}());return t}())===u&&(t=function(){var t;(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,5)===En?(n=En,Sr+=5):(n=u,0===Rr&&qr(_n));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,5)===bn?(n=bn,Sr+=5):(n=u,0===Rr&&qr(Cn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,4)===$n?(n=$n,Sr+=4):(n=u,0===Rr&&qr(In));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,6)===Nn?(n=Nn,Sr+=6):(n=u,0===Rr&&qr(Rn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,7)===Tn?(n=Tn,Sr+=7):(n=u,0===Rr&&qr(Ln));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,6)===Yn?(n=Yn,Sr+=6):(n=u,0===Rr&&qr(Xn));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,5)===ar?(n=ar,Sr+=5):(n=u,0===Rr&&qr(cr));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}());return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,4)===ur?(n=ur,Sr+=4):(n=u,0===Rr&&qr(ir));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t;(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,4)===gr?(n=gr,Sr+=4):(n=u,0===Rr&&qr(vr));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r,i;t=Sr,e.substr(Sr,5)===Vn?(n=Vn,Sr+=5):(n=u,0===Rr&&qr(Un));n!==u?(r=Sr,Rr++,i=pu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u);return t}());return t}());return t}(),Rr--,r===u?n=void 0:(Sr=n,n=u);n!==u&&(r=au())!==u?(Or=t,n=Ce(r),t=n):(Sr=t,t=u);return t}())!==u&&xu()!==u?(58===e.charCodeAt(Sr)?(r=v,Sr++):(r=u,0===Rr&&qr(E)),r!==u&&xu()!==u&&(i=Zr())!==u?(Or=t,t=n=_(n,i)):(Sr=t,t=u)):(Sr=t,t=u),t===u&&(t=Zr()),t}function Zr(){var t,n,r;return t=Sr,(n=function(){var t;36===e.charCodeAt(Sr)?(t=C,Sr++):(t=u,0===Rr&&qr(m));t===u&&(38===e.charCodeAt(Sr)?(t=x,Sr++):(t=u,0===Rr&&qr(F)),t===u&&(33===e.charCodeAt(Sr)?(t=y,Sr++):(t=u,0===Rr&&qr(D))));return t}())!==u&&xu()!==u&&(r=Kr())!==u?(Or=t,t=n=b(n,r)):(Sr=t,t=u),t===u&&(t=Kr()),t}function Kr(){var t,n,r;return t=Sr,(n=eu())!==u&&xu()!==u&&(r=function(){var t;63===e.charCodeAt(Sr)?(t=w,Sr++):(t=u,0===Rr&&qr(j));t===u&&(42===e.charCodeAt(Sr)?(t=P,Sr++):(t=u,0===Rr&&qr(k)),t===u&&(43===e.charCodeAt(Sr)?(t=S,Sr++):(t=u,0===Rr&&qr(O))));return t}())!==u?(Or=t,t=n=B(n,r)):(Sr=t,t=u),t===u&&(t=eu()),t}function eu(){var t,n,r,i;return(t=function(){var t,n,r;Rr++,t=Sr,(n=lu())!==u?(105===e.charCodeAt(Sr)?(r=$e,Sr++):(r=u,0===Rr&&qr(Ie)),r===u&&(r=null),r!==u?(Or=t,n=Ne(n,r),t=n):(Sr=t,t=u)):(Sr=t,t=u);Rr--,t===u&&(n=u,0===Rr&&qr(Oe));return t}())===u&&(t=function(){var t,n,r,i,s,o;Rr++,t=Sr,91===e.charCodeAt(Sr)?(n=qe,Sr++):(n=u,0===Rr&&qr(Ge));if(n!==u)if(94===e.charCodeAt(Sr)?(r=Je,Sr++):(r=u,0===Rr&&qr(We)),r===u&&(r=null),r!==u){for(i=[],(s=du())===u&&(s=Au());s!==u;)i.push(s),(s=du())===u&&(s=Au());i!==u?(93===e.charCodeAt(Sr)?(s=Qe,Sr++):(s=u,0===Rr&&qr(Ye)),s!==u?(105===e.charCodeAt(Sr)?(o=$e,Sr++):(o=u,0===Rr&&qr(Ie)),o===u&&(o=null),o!==u?(Or=t,n=Xe(r,i,o),t=n):(Sr=t,t=u)):(Sr=t,t=u)):(Sr=t,t=u)}else Sr=t,t=u;else Sr=t,t=u;Rr--,t===u&&(n=u,0===Rr&&qr(ze));return t}())===u&&(t=function(){var t,n;t=Sr,46===e.charCodeAt(Sr)?(n=St,Sr++):(n=u,0===Rr&&qr(Ot));n!==u&&(Or=t,n=$t());return t=n}())===u&&(t=function(){var t,n,r,i,s,o,a,l;t=Sr,(n=au())!==u?(r=Sr,Rr++,i=Sr,(s=xu())!==u?(o=Sr,(a=lu())!==u&&(l=xu())!==u?o=a=[a,l]:(Sr=o,o=u),o===u&&(o=null),o!==u?(61===e.charCodeAt(Sr)?(a=c,Sr++):(a=u,0===Rr&&qr(p)),a!==u?i=s=[s,o,a]:(Sr=i,i=u)):(Sr=i,i=u)):(Sr=i,i=u),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?(Or=t,n=L(n),t=n):(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=function(){var t,n,r;t=Sr,(n=function(){var t;38===e.charCodeAt(Sr)?(t=x,Sr++):(t=u,0===Rr&&qr(F));t===u&&(33===e.charCodeAt(Sr)?(t=y,Sr++):(t=u,0===Rr&&qr(D)));return t}())!==u&&xu()!==u&&(r=mu())!==u?(Or=t,n=V(n,r),t=n):(Sr=t,t=u);return t}())===u&&(t=Sr,40===e.charCodeAt(Sr)?(n=$,Sr++):(n=u,0===Rr&&qr(I)),n!==u&&xu()!==u&&(r=Qr())!==u&&xu()!==u?(41===e.charCodeAt(Sr)?(i=N,Sr++):(i=u,0===Rr&&qr(R)),i!==u?(Or=t,t=n=T(r)):(Sr=t,t=u)):(Sr=t,t=u)),t}function tu(){var t;return e.length>Sr?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(U)),t}function nu(){var t;return Rr++,9===e.charCodeAt(Sr)?(t=H,Sr++):(t=u,0===Rr&&qr(z)),t===u&&(11===e.charCodeAt(Sr)?(t=q,Sr++):(t=u,0===Rr&&qr(G)),t===u&&(12===e.charCodeAt(Sr)?(t=J,Sr++):(t=u,0===Rr&&qr(W)),t===u&&(32===e.charCodeAt(Sr)?(t=Q,Sr++):(t=u,0===Rr&&qr(Y)),t===u&&(160===e.charCodeAt(Sr)?(t=X,Sr++):(t=u,0===Rr&&qr(Z)),t===u&&(65279===e.charCodeAt(Sr)?(t=K,Sr++):(t=u,0===Rr&&qr(ee)),t===u&&(t=function(){var t;pn.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(ln));return t}())))))),Rr--,t===u&&(u,0===Rr&&qr(M)),t}function ru(){var t;return te.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(ne)),t}function uu(){var t;return Rr++,10===e.charCodeAt(Sr)?(t=ue,Sr++):(t=u,0===Rr&&qr(ie)),t===u&&(e.substr(Sr,2)===se?(t=se,Sr+=2):(t=u,0===Rr&&qr(oe)),t===u&&(13===e.charCodeAt(Sr)?(t=ae,Sr++):(t=u,0===Rr&&qr(ce)),t===u&&(8232===e.charCodeAt(Sr)?(t=pe,Sr++):(t=u,0===Rr&&qr(le)),t===u&&(8233===e.charCodeAt(Sr)?(t=fe,Sr++):(t=u,0===Rr&&qr(he)))))),Rr--,t===u&&(u,0===Rr&&qr(re)),t}function iu(){var t;return Rr++,(t=function(){var t,n,r,i,s,o;t=Sr,e.substr(Sr,2)===Ae?(n=Ae,Sr+=2):(n=u,0===Rr&&qr(ge));if(n!==u){for(r=[],i=Sr,s=Sr,Rr++,e.substr(Sr,2)===ve?(o=ve,Sr+=2):(o=u,0===Rr&&qr(Ee)),Rr--,o===u?s=void 0:(Sr=s,s=u),s!==u&&(o=tu())!==u?i=s=[s,o]:(Sr=i,i=u);i!==u;)r.push(i),i=Sr,s=Sr,Rr++,e.substr(Sr,2)===ve?(o=ve,Sr+=2):(o=u,0===Rr&&qr(Ee)),Rr--,o===u?s=void 0:(Sr=s,s=u),s!==u&&(o=tu())!==u?i=s=[s,o]:(Sr=i,i=u);r!==u?(e.substr(Sr,2)===ve?(i=ve,Sr+=2):(i=u,0===Rr&&qr(Ee)),i!==u?t=n=[n,r,i]:(Sr=t,t=u)):(Sr=t,t=u)}else Sr=t,t=u;return t}())===u&&(t=ou()),Rr--,t===u&&(u,0===Rr&&qr(de)),t}function su(){var t,n,r,i,s,o;if(t=Sr,e.substr(Sr,2)===Ae?(n=Ae,Sr+=2):(n=u,0===Rr&&qr(ge)),n!==u){for(r=[],i=Sr,s=Sr,Rr++,e.substr(Sr,2)===ve?(o=ve,Sr+=2):(o=u,0===Rr&&qr(Ee)),o===u&&(o=ru()),Rr--,o===u?s=void 0:(Sr=s,s=u),s!==u&&(o=tu())!==u?i=s=[s,o]:(Sr=i,i=u);i!==u;)r.push(i),i=Sr,s=Sr,Rr++,e.substr(Sr,2)===ve?(o=ve,Sr+=2):(o=u,0===Rr&&qr(Ee)),o===u&&(o=ru()),Rr--,o===u?s=void 0:(Sr=s,s=u),s!==u&&(o=tu())!==u?i=s=[s,o]:(Sr=i,i=u);r!==u?(e.substr(Sr,2)===ve?(i=ve,Sr+=2):(i=u,0===Rr&&qr(Ee)),i!==u?t=n=[n,r,i]:(Sr=t,t=u)):(Sr=t,t=u)}else Sr=t,t=u;return t}function ou(){var t,n,r,i,s,o;if(t=Sr,e.substr(Sr,2)===_e?(n=_e,Sr+=2):(n=u,0===Rr&&qr(be)),n!==u){for(r=[],i=Sr,s=Sr,Rr++,o=ru(),Rr--,o===u?s=void 0:(Sr=s,s=u),s!==u&&(o=tu())!==u?i=s=[s,o]:(Sr=i,i=u);i!==u;)r.push(i),i=Sr,s=Sr,Rr++,o=ru(),Rr--,o===u?s=void 0:(Sr=s,s=u),s!==u&&(o=tu())!==u?i=s=[s,o]:(Sr=i,i=u);r!==u?t=n=[n,r]:(Sr=t,t=u)}else Sr=t,t=u;return t}function au(){var e,t,n,r;if(Rr++,e=Sr,(t=cu())!==u){for(n=[],r=pu();r!==u;)n.push(r),r=pu();n!==u?(Or=e,e=t=xe(t,n)):(Sr=e,e=u)}else Sr=e,e=u;return Rr--,e===u&&(t=u,0===Rr&&qr(me)),e}function cu(){var t,n,r;return(t=function(){var t;(t=function(){var t;Xt.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(Zt));return t}())===u&&(t=function(){var t;Ht.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(zt));return t}())===u&&(t=function(){var t;Qt.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(Yt));return t}())===u&&(t=function(){var t;qt.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(Gt));return t}())===u&&(t=function(){var t;Jt.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(Wt));return t}())===u&&(t=function(){var t;sn.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(on));return t}());return t}())===u&&(36===e.charCodeAt(Sr)?(t=C,Sr++):(t=u,0===Rr&&qr(m)),t===u&&(95===e.charCodeAt(Sr)?(t=Fe,Sr++):(t=u,0===Rr&&qr(ye)),t===u&&(t=Sr,92===e.charCodeAt(Sr)?(n=De,Sr++):(n=u,0===Rr&&qr(Be)),n!==u&&(r=_u())!==u?(Or=t,t=n=we(r)):(Sr=t,t=u)))),t}function pu(){var t;return(t=cu())===u&&(t=function(){var t;(t=function(){var t;tn.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(nn));return t}())===u&&(t=function(){var t;Kt.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(en));return t}());return t}())===u&&(t=function(){var t;rn.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(un));return t}())===u&&(t=function(){var t;an.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(cn));return t}())===u&&(8204===e.charCodeAt(Sr)?(t=je,Sr++):(t=u,0===Rr&&qr(Pe)),t===u&&(8205===e.charCodeAt(Sr)?(t=ke,Sr++):(t=u,0===Rr&&qr(Se)))),t}function lu(){var t,n,r,i;if(Rr++,t=Sr,34===e.charCodeAt(Sr)?(n=Te,Sr++):(n=u,0===Rr&&qr(Le)),n!==u){for(r=[],i=fu();i!==u;)r.push(i),i=fu();r!==u?(34===e.charCodeAt(Sr)?(i=Te,Sr++):(i=u,0===Rr&&qr(Le)),i!==u?(Or=t,t=n=Ve(r)):(Sr=t,t=u)):(Sr=t,t=u)}else Sr=t,t=u;if(t===u)if(t=Sr,39===e.charCodeAt(Sr)?(n=Ue,Sr++):(n=u,0===Rr&&qr(Me)),n!==u){for(r=[],i=hu();i!==u;)r.push(i),i=hu();r!==u?(39===e.charCodeAt(Sr)?(i=Ue,Sr++):(i=u,0===Rr&&qr(Me)),i!==u?(Or=t,t=n=Ve(r)):(Sr=t,t=u)):(Sr=t,t=u)}else Sr=t,t=u;return Rr--,t===u&&(n=u,0===Rr&&qr(Re)),t}function fu(){var t,n,r;return t=Sr,n=Sr,Rr++,34===e.charCodeAt(Sr)?(r=Te,Sr++):(r=u,0===Rr&&qr(Le)),r===u&&(92===e.charCodeAt(Sr)?(r=De,Sr++):(r=u,0===Rr&&qr(Be)),r===u&&(r=ru())),Rr--,r===u?n=void 0:(Sr=n,n=u),n!==u&&(r=tu())!==u?(Or=t,t=n=He()):(Sr=t,t=u),t===u&&(t=Sr,92===e.charCodeAt(Sr)?(n=De,Sr++):(n=u,0===Rr&&qr(Be)),n!==u&&(r=vu())!==u?(Or=t,t=n=we(r)):(Sr=t,t=u),t===u&&(t=gu())),t}function hu(){var t,n,r;return t=Sr,n=Sr,Rr++,39===e.charCodeAt(Sr)?(r=Ue,Sr++):(r=u,0===Rr&&qr(Me)),r===u&&(92===e.charCodeAt(Sr)?(r=De,Sr++):(r=u,0===Rr&&qr(Be)),r===u&&(r=ru())),Rr--,r===u?n=void 0:(Sr=n,n=u),n!==u&&(r=tu())!==u?(Or=t,t=n=He()):(Sr=t,t=u),t===u&&(t=Sr,92===e.charCodeAt(Sr)?(n=De,Sr++):(n=u,0===Rr&&qr(Be)),n!==u&&(r=vu())!==u?(Or=t,t=n=we(r)):(Sr=t,t=u),t===u&&(t=gu())),t}function du(){var t,n,r,i;return t=Sr,(n=Au())!==u?(45===e.charCodeAt(Sr)?(r=Ze,Sr++):(r=u,0===Rr&&qr(Ke)),r!==u&&(i=Au())!==u?(Or=t,t=n=et(n,i)):(Sr=t,t=u)):(Sr=t,t=u),t}function Au(){var t,n,r;return t=Sr,n=Sr,Rr++,93===e.charCodeAt(Sr)?(r=Qe,Sr++):(r=u,0===Rr&&qr(Ye)),r===u&&(92===e.charCodeAt(Sr)?(r=De,Sr++):(r=u,0===Rr&&qr(Be)),r===u&&(r=ru())),Rr--,r===u?n=void 0:(Sr=n,n=u),n!==u&&(r=tu())!==u?(Or=t,t=n=He()):(Sr=t,t=u),t===u&&(t=Sr,92===e.charCodeAt(Sr)?(n=De,Sr++):(n=u,0===Rr&&qr(Be)),n!==u&&(r=vu())!==u?(Or=t,t=n=we(r)):(Sr=t,t=u),t===u&&(t=gu())),t}function gu(){var t,n;return t=Sr,92===e.charCodeAt(Sr)?(n=De,Sr++):(n=u,0===Rr&&qr(Be)),n!==u&&uu()!==u?(Or=t,t=n=tt()):(Sr=t,t=u),t}function vu(){var t,n,r,i;return(t=function(){var t;(t=Eu())===u&&(t=function(){var t,n,r;t=Sr,n=Sr,Rr++,(r=function(){var t;(t=Eu())===u&&(t=bu())===u&&(120===e.charCodeAt(Sr)?(t=xt,Sr++):(t=u,0===Rr&&qr(Ft)),t===u&&(117===e.charCodeAt(Sr)?(t=yt,Sr++):(t=u,0===Rr&&qr(Dt))));return t}())===u&&(r=ru());Rr--,r===u?n=void 0:(Sr=n,n=u);n!==u&&(r=tu())!==u?(Or=t,n=He(),t=n):(Sr=t,t=u);return t}());return t}())===u&&(t=Sr,48===e.charCodeAt(Sr)?(n=nt,Sr++):(n=u,0===Rr&&qr(rt)),n!==u?(r=Sr,Rr++,i=bu(),Rr--,i===u?r=void 0:(Sr=r,r=u),r!==u?(Or=t,t=n=ut()):(Sr=t,t=u)):(Sr=t,t=u),t===u&&(t=function(){var t,n,r,i,s,o;t=Sr,120===e.charCodeAt(Sr)?(n=xt,Sr++):(n=u,0===Rr&&qr(Ft));n!==u?(r=Sr,i=Sr,(s=Cu())!==u&&(o=Cu())!==u?i=s=[s,o]:(Sr=i,i=u),(r=i!==u?e.substring(r,Sr):i)!==u?(Or=t,n=Bt(r),t=n):(Sr=t,t=u)):(Sr=t,t=u);return t}())===u&&(t=_u())),t}function Eu(){var t,n;return 39===e.charCodeAt(Sr)?(t=Ue,Sr++):(t=u,0===Rr&&qr(Me)),t===u&&(34===e.charCodeAt(Sr)?(t=Te,Sr++):(t=u,0===Rr&&qr(Le)),t===u&&(92===e.charCodeAt(Sr)?(t=De,Sr++):(t=u,0===Rr&&qr(Be)),t===u&&(t=Sr,98===e.charCodeAt(Sr)?(n=it,Sr++):(n=u,0===Rr&&qr(st)),n!==u&&(Or=t,n=ot()),(t=n)===u&&(t=Sr,102===e.charCodeAt(Sr)?(n=at,Sr++):(n=u,0===Rr&&qr(ct)),n!==u&&(Or=t,n=pt()),(t=n)===u&&(t=Sr,110===e.charCodeAt(Sr)?(n=lt,Sr++):(n=u,0===Rr&&qr(ft)),n!==u&&(Or=t,n=ht()),(t=n)===u&&(t=Sr,114===e.charCodeAt(Sr)?(n=dt,Sr++):(n=u,0===Rr&&qr(At)),n!==u&&(Or=t,n=gt()),(t=n)===u&&(t=Sr,116===e.charCodeAt(Sr)?(n=vt,Sr++):(n=u,0===Rr&&qr(Et)),n!==u&&(Or=t,n=_t()),(t=n)===u&&(t=Sr,118===e.charCodeAt(Sr)?(n=bt,Sr++):(n=u,0===Rr&&qr(Ct)),n!==u&&(Or=t,n=mt()),t=n)))))))),t}function _u(){var t,n,r,i,s,o,a,c;return t=Sr,117===e.charCodeAt(Sr)?(n=yt,Sr++):(n=u,0===Rr&&qr(Dt)),n!==u?(r=Sr,i=Sr,(s=Cu())!==u&&(o=Cu())!==u&&(a=Cu())!==u&&(c=Cu())!==u?i=s=[s,o,a,c]:(Sr=i,i=u),(r=i!==u?e.substring(r,Sr):i)!==u?(Or=t,t=n=Bt(r)):(Sr=t,t=u)):(Sr=t,t=u),t}function bu(){var t;return wt.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(jt)),t}function Cu(){var t;return Pt.test(e.charAt(Sr))?(t=e.charAt(Sr),Sr++):(t=u,0===Rr&&qr(kt)),t}function mu(){var t,n,r,i;return Rr++,t=Sr,123===e.charCodeAt(Sr)?(n=Nt,Sr++):(n=u,0===Rr&&qr(Rt)),n!==u&&(r=function t(){var n,r,i,s,o,a;n=Sr,r=[],i=[],s=Sr,o=Sr,Rr++,Ut.test(e.charAt(Sr))?(a=e.charAt(Sr),Sr++):(a=u,0===Rr&&qr(Mt));Rr--,a===u?o=void 0:(Sr=o,o=u);o!==u&&(a=tu())!==u?s=o=[o,a]:(Sr=s,s=u);if(s!==u)for(;s!==u;)i.push(s),s=Sr,o=Sr,Rr++,Ut.test(e.charAt(Sr))?(a=e.charAt(Sr),Sr++):(a=u,0===Rr&&qr(Mt)),Rr--,a===u?o=void 0:(Sr=o,o=u),o!==u&&(a=tu())!==u?s=o=[o,a]:(Sr=s,s=u);else i=u;i===u&&(i=Sr,123===e.charCodeAt(Sr)?(s=Nt,Sr++):(s=u,0===Rr&&qr(Rt)),s!==u&&(o=t())!==u?(125===e.charCodeAt(Sr)?(a=Tt,Sr++):(a=u,0===Rr&&qr(Lt)),a!==u?i=s=[s,o,a]:(Sr=i,i=u)):(Sr=i,i=u));for(;i!==u;){if(r.push(i),i=[],s=Sr,o=Sr,Rr++,Ut.test(e.charAt(Sr))?(a=e.charAt(Sr),Sr++):(a=u,0===Rr&&qr(Mt)),Rr--,a===u?o=void 0:(Sr=o,o=u),o!==u&&(a=tu())!==u?s=o=[o,a]:(Sr=s,s=u),s!==u)for(;s!==u;)i.push(s),s=Sr,o=Sr,Rr++,Ut.test(e.charAt(Sr))?(a=e.charAt(Sr),Sr++):(a=u,0===Rr&&qr(Mt)),Rr--,a===u?o=void 0:(Sr=o,o=u),o!==u&&(a=tu())!==u?s=o=[o,a]:(Sr=s,s=u);else i=u;i===u&&(i=Sr,123===e.charCodeAt(Sr)?(s=Nt,Sr++):(s=u,0===Rr&&qr(Rt)),s!==u&&(o=t())!==u?(125===e.charCodeAt(Sr)?(a=Tt,Sr++):(a=u,0===Rr&&qr(Lt)),a!==u?i=s=[s,o,a]:(Sr=i,i=u)):(Sr=i,i=u))}n=r!==u?e.substring(n,Sr):r;return n}())!==u?(125===e.charCodeAt(Sr)?(i=Tt,Sr++):(i=u,0===Rr&&qr(Lt)),i!==u?(Or=t,t=n=Vt(r)):(Sr=t,t=u)):(Sr=t,t=u),Rr--,t===u&&(n=u,0===Rr&&qr(It)),t}function xu(){var e,t;for(e=[],(t=nu())===u&&(t=uu())===u&&(t=iu());t!==u;)e.push(t),(t=nu())===u&&(t=uu())===u&&(t=iu());return e}function Fu(){var t,n,r,i;return t=Sr,(n=xu())!==u?(59===e.charCodeAt(Sr)?(r=Pr,Sr++):(r=u,0===Rr&&qr(kr)),r!==u?t=n=[n,r]:(Sr=t,t=u)):(Sr=t,t=u),t===u&&(t=Sr,(n=function(){var e,t;for(e=[],(t=nu())===u&&(t=su());t!==u;)e.push(t),(t=nu())===u&&(t=su());return e}())!==u?((r=ou())===u&&(r=null),r!==u&&(i=uu())!==u?t=n=[n,r,i]:(Sr=t,t=u)):(Sr=t,t=u),t===u&&(t=Sr,(n=xu())!==u&&(r=function(){var t,n;t=Sr,Rr++,e.length>Sr?(n=e.charAt(Sr),Sr++):(n=u,0===Rr&&qr(U));Rr--,n===u?t=void 0:(Sr=t,t=u);return t}())!==u?t=n=[n,r]:(Sr=t,t=u))),t}var yu={$:"text","&":"simple_and","!":"simple_not"},Du={"?":"optional","*":"zero_or_more","+":"one_or_more"},Bu={"&":"semantic_and","!":"semantic_not"};function wu(e){var t,n=[];for(t=0;t<e.length;t++)""!==e[t]&&n.push(e[t]);return n}function ju(e,t){var n,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n][t];return r}function Pu(e,t,n){return[e].concat(ju(t,n))}if((n=s())!==u&&Sr===e.length)return n;throw n!==u&&Sr<e.length&&qr({type:"end"}),Gr(Nr,Ir<e.length?e.charAt(Ir):null,Ir<e.length?zr(Ir,Ir+1):zr(Ir,Ir))}}},function(module,exports,__webpack_require__){"use strict";var arrays=__webpack_require__(20),objects=__webpack_require__(42),compiler={visitor:__webpack_require__(21),passes:{check:{reportUndefinedRules:__webpack_require__(225),reportDuplicateRules:__webpack_require__(226),reportDuplicateLabels:__webpack_require__(227),reportInfiniteRecursion:__webpack_require__(228),reportInfiniteRepetition:__webpack_require__(229)},transform:{removeProxyRules:__webpack_require__(230)},generate:{generateBytecode:__webpack_require__(231),generateJS:__webpack_require__(232)}},compile:function(ast,passes,options){var stage;for(stage in options=void 0!==options?options:{},options=objects.clone(options),objects.defaults(options,{allowedStartRules:[ast.rules[0].name],cache:!1,dependencies:{},exportVar:null,format:"bare",optimize:"speed",output:"parser",trace:!1}),passes)passes.hasOwnProperty(stage)&&arrays.each(passes[stage],(function(e){e(ast,options)}));switch(options.output){case"parser":return eval(ast.code);case"source":return ast.code}}};module.exports=compiler},function(e,t,n){"use strict";var r=n(43),u=n(76),i=n(21);e.exports=function(e){i.build({rule_ref:function(t){if(!u.findRule(e,t.name))throw new r('Rule "'+t.name+'" is not defined.',t.location)}})(e)}},function(e,t,n){"use strict";var r=n(43),u=n(21);e.exports=function(e){var t={};u.build({rule:function(e){if(t.hasOwnProperty(e.name))throw new r('Rule "'+e.name+'" is already defined at line '+t[e.name].start.line+", column "+t[e.name].start.column+".",e.location);t[e.name]=e.location}})(e)}},function(e,t,n){"use strict";var r=n(43),u=n(20),i=n(42),s=n(21);e.exports=function(e){function t(e,t){n(e.expression,i.clone(t))}var n=s.build({rule:function(e){n(e.expression,{})},choice:function(e,t){u.each(e.alternatives,(function(e){n(e,i.clone(t))}))},action:t,labeled:function(e,t){if(t.hasOwnProperty(e.label))throw new r('Label "'+e.label+'" is already defined at line '+t[e.label].start.line+", column "+t[e.label].start.column+".",e.location);n(e.expression,t),t[e.label]=e.location},text:t,simple_and:t,simple_not:t,optional:t,zero_or_more:t,one_or_more:t,group:t});n(e)}},function(e,t,n){"use strict";var r=n(20),u=n(43),i=n(76),s=n(21);e.exports=function(e){var t=[],n=s.build({rule:function(e){t.push(e.name),n(e.expression),t.pop(e.name)},sequence:function(t){r.every(t.elements,(function(t){return n(t),!i.alwaysConsumesOnSuccess(e,t)}))},rule_ref:function(s){if(r.contains(t,s.name))throw t.push(s.name),new u("Possible infinite loop when parsing (left recursion: "+t.join(" -> ")+").",s.location);n(i.findRule(e,s.name))}});n(e)}},function(e,t,n){"use strict";var r=n(43),u=n(76),i=n(21);e.exports=function(e){i.build({zero_or_more:function(t){if(!u.alwaysConsumesOnSuccess(e,t.expression))throw new r("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",t.location)},one_or_more:function(t){if(!u.alwaysConsumesOnSuccess(e,t.expression))throw new r("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",t.location)}})(e)}},function(e,t,n){"use strict";var r=n(20),u=n(21);e.exports=function(e,t){var n=[];r.each(e.rules,(function(i,s){var o;"rule"===(o=i).type&&"rule_ref"===o.expression.type&&(!function(e,t,n){u.build({rule_ref:function(e){e.name===t&&(e.name=n)}})(e)}(e,i.name,i.expression.name),r.contains(t.allowedStartRules,i.name)||n.push(s))})),n.reverse(),r.each(n,(function(t){e.rules.splice(t,1)}))}},function(e,t,n){"use strict";var r=n(20),u=n(42),i=n(76),s=n(21),o=n(217),a=n(218);e.exports=function(e){var t=[];function n(e){var n=r.indexOf(t,e);return-1===n?t.push(e)-1:n}function c(e,t){return n("function("+e.join(", ")+") {"+t+"}")}function p(){return Array.prototype.concat.apply([],arguments)}function l(e,t,n){return e.concat([t.length,n.length],t,n)}function f(e,t,n,i){var s=r.map(u.values(n),(function(e){return i-e}));return[o.CALL,e,t,s.length].concat(s)}function h(e,t,n){return p([o.PUSH_CURR_POS],[o.SILENT_FAILS_ON],g(e,{sp:n.sp+1,env:u.clone(n.env),action:null}),[o.SILENT_FAILS_OFF],l([t?o.IF_ERROR:o.IF_NOT_ERROR],p([o.POP],[t?o.POP:o.POP_CURR_POS],[o.PUSH_UNDEFINED]),p([o.POP],[t?o.POP_CURR_POS:o.POP],[o.PUSH_FAILED])))}function d(e,t,n){var r=c(u.keys(n.env),e);return p([o.UPDATE_SAVED_POS],f(r,0,n.env,n.sp),l([o.IF],p([o.POP],t?[o.PUSH_FAILED]:[o.PUSH_UNDEFINED]),p([o.POP],t?[o.PUSH_UNDEFINED]:[o.PUSH_FAILED])))}function A(e){return t=[o.WHILE_NOT_ERROR],n=p([o.APPEND],e),t.concat([n.length],n);var t,n}var g=s.build({grammar:function(e){r.each(e.rules,g),e.consts=t},rule:function(e){e.bytecode=g(e.expression,{sp:-1,env:{},action:null})},named:function(e,t){var r=n('peg$otherExpectation("'+a.stringEscape(e.name)+'")');return p([o.SILENT_FAILS_ON],g(e.expression,t),[o.SILENT_FAILS_OFF],l([o.IF_ERROR],[o.FAIL,r],[]))},choice:function(e,t){return function e(t,n){return p(g(t[0],{sp:n.sp,env:u.clone(n.env),action:null}),t.length>1?l([o.IF_ERROR],p([o.POP],e(t.slice(1),n)),[]):[])}(e.alternatives,t)},action:function(e,t){var n=u.clone(t.env),r="sequence"!==e.expression.type||0===e.expression.elements.length,i=g(e.expression,{sp:t.sp+(r?1:0),env:n,action:e}),s=c(u.keys(n),e.code);return r?p([o.PUSH_CURR_POS],i,l([o.IF_NOT_ERROR],p([o.LOAD_SAVED_POS,1],f(s,1,n,t.sp+2)),[]),[o.NIP]):i},sequence:function(e,t){return p([o.PUSH_CURR_POS],function t(n,r){var i,s;return n.length>0?(i=e.elements.length-n.slice(1).length,p(g(n[0],{sp:r.sp,env:r.env,action:null}),l([o.IF_NOT_ERROR],t(n.slice(1),{sp:r.sp+1,env:r.env,action:r.action}),p(i>1?[o.POP_N,i]:[o.POP],[o.POP_CURR_POS],[o.PUSH_FAILED])))):r.action?(s=c(u.keys(r.env),r.action.code),p([o.LOAD_SAVED_POS,e.elements.length],f(s,e.elements.length,r.env,r.sp),[o.NIP])):p([o.WRAP,e.elements.length],[o.NIP])}(e.elements,{sp:t.sp+1,env:t.env,action:t.action}))},labeled:function(e,t){var n=u.clone(t.env);return t.env[e.label]=t.sp+1,g(e.expression,{sp:t.sp,env:n,action:null})},text:function(e,t){return p([o.PUSH_CURR_POS],g(e.expression,{sp:t.sp+1,env:u.clone(t.env),action:null}),l([o.IF_NOT_ERROR],p([o.POP],[o.TEXT]),[o.NIP]))},simple_and:function(e,t){return h(e.expression,!1,t)},simple_not:function(e,t){return h(e.expression,!0,t)},optional:function(e,t){return p(g(e.expression,{sp:t.sp,env:u.clone(t.env),action:null}),l([o.IF_ERROR],p([o.POP],[o.PUSH_NULL]),[]))},zero_or_more:function(e,t){var n=g(e.expression,{sp:t.sp+1,env:u.clone(t.env),action:null});return p([o.PUSH_EMPTY_ARRAY],n,A(n),[o.POP])},one_or_more:function(e,t){var n=g(e.expression,{sp:t.sp+1,env:u.clone(t.env),action:null});return p([o.PUSH_EMPTY_ARRAY],n,l([o.IF_NOT_ERROR],p(A(n),[o.POP]),p([o.POP],[o.POP],[o.PUSH_FAILED])))},group:function(e,t){return g(e.expression,{sp:t.sp,env:u.clone(t.env),action:null})},semantic_and:function(e,t){return d(e.code,!1,t)},semantic_not:function(e,t){return d(e.code,!0,t)},rule_ref:function(t){return[o.RULE,i.indexOfRule(e,t.name)]},literal:function(e){var t,r;return e.value.length>0?(t=n('"'+a.stringEscape(e.ignoreCase?e.value.toLowerCase():e.value)+'"'),r=n('peg$literalExpectation("'+a.stringEscape(e.value)+'", '+e.ignoreCase+")"),l(e.ignoreCase?[o.MATCH_STRING_IC,t]:[o.MATCH_STRING,t],e.ignoreCase?[o.ACCEPT_N,e.value.length]:[o.ACCEPT_STRING,t],[o.FAIL,r])):(t=n('""'),[o.PUSH,t])},class:function(e){var t,u,i,s;return t=e.parts.length>0?"/^["+(e.inverted?"^":"")+r.map(e.parts,(function(e){return e instanceof Array?a.regexpClassEscape(e[0])+"-"+a.regexpClassEscape(e[1]):a.regexpClassEscape(e)})).join("")+"]/"+(e.ignoreCase?"i":""):e.inverted?"/^[\\S\\s]/":"/^(?!)/",u="["+r.map(e.parts,(function(e){return e instanceof Array?'["'+a.stringEscape(e[0])+'", "'+a.stringEscape(e[1])+'"]':'"'+a.stringEscape(e)+'"'})).join(", ")+"]",i=n(t),s=n("peg$classExpectation("+u+", "+e.inverted+", "+e.ignoreCase+")"),l([o.MATCH_REGEXP,i],[o.ACCEPT_N,1],[o.FAIL,s])},any:function(){var e=n("peg$anyExpectation()");return l([o.MATCH_ANY],[o.ACCEPT_N,1],[o.FAIL,e])}});g(e)}},function(module,exports,__webpack_require__){"use strict";var arrays=__webpack_require__(20),objects=__webpack_require__(42),asts=__webpack_require__(76),op=__webpack_require__(217),js=__webpack_require__(218);function generateJS(ast,options){function indent2(e){return e.replace(/^(.+)$/gm,"  $1")}function indent6(e){return e.replace(/^(.+)$/gm,"      $1")}function indent10(e){return e.replace(/^(.+)$/gm,"          $1")}function generateTables(){return"size"===options.optimize?["peg$consts = [",indent2(ast.consts.join(",\n")),"],","","peg$bytecode = [",indent2(arrays.map(ast.rules,(function(e){return'peg$decode("'+js.stringEscape(arrays.map(e.bytecode,(function(e){return String.fromCharCode(e+32)})).join(""))+'")'})).join(",\n")),"],"].join("\n"):arrays.map(ast.consts,(function(e,t){return"peg$c"+t+" = "+e+","})).join("\n")}function generateRuleHeader(e,t){var n=[];return n.push(""),options.trace&&n.push(["peg$tracer.trace({",'  type:     "rule.enter",',"  rule:     "+e+",","  location: peg$computeLocation(startPos, startPos)","});",""].join("\n")),options.cache&&(n.push(["var key    = peg$currPos * "+ast.rules.length+" + "+t+",","    cached = peg$resultsCache[key];","","if (cached) {","  peg$currPos = cached.nextPos;",""].join("\n")),options.trace&&n.push(["if (cached.result !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+e+",","    result: cached.result,","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+e+",","    location: peg$computeLocation(startPos, startPos)","  });","}",""].join("\n")),n.push(["  return cached.result;","}",""].join("\n"))),n.join("\n")}function generateRuleFooter(e,t){var n=[];return options.cache&&n.push(["","peg$resultsCache[key] = { nextPos: peg$currPos, result: "+t+" };"].join("\n")),options.trace&&n.push(["","if ("+t+" !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+e+",","    result: "+t+",","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+e+",","    location: peg$computeLocation(startPos, startPos)","  });","}"].join("\n")),n.push(["","return "+t+";"].join("\n")),n.join("\n")}function generateInterpreter(){var e,t=[];function n(e,t){var n=t+3,r="bc[ip + "+(n-2)+"]",u="bc[ip + "+(n-1)+"]";return["ends.push(end);","ips.push(ip + "+n+" + "+r+" + "+u+");","","if ("+e+") {","  end = ip + "+n+" + "+r+";","  ip += "+n+";","} else {","  end = ip + "+n+" + "+r+" + "+u+";","  ip += "+n+" + "+r+";","}","","break;"].join("\n")}return t.push(["function peg$decode(s) {","  var bc = new Array(s.length), i;","","  for (i = 0; i < s.length; i++) {","    bc[i] = s.charCodeAt(i) - 32;","  }","","  return bc;","}","","function peg$parseRule(index) {"].join("\n")),options.trace?t.push(["  var bc       = peg$bytecode[index],","      ip       = 0,","      ips      = [],","      end      = bc.length,","      ends     = [],","      stack    = [],","      startPos = peg$currPos,","      params, i;"].join("\n")):t.push(["  var bc    = peg$bytecode[index],","      ip    = 0,","      ips   = [],","      end   = bc.length,","      ends  = [],","      stack = [],","      params, i;"].join("\n")),t.push(indent2(generateRuleHeader("peg$ruleNames[index]","index"))),t.push(["  while (true) {","    while (ip < end) {","      switch (bc[ip]) {","        case "+op.PUSH+":","          stack.push(peg$consts[bc[ip + 1]]);","          ip += 2;","          break;","","        case "+op.PUSH_UNDEFINED+":","          stack.push(void 0);","          ip++;","          break;","","        case "+op.PUSH_NULL+":","          stack.push(null);","          ip++;","          break;","","        case "+op.PUSH_FAILED+":","          stack.push(peg$FAILED);","          ip++;","          break;","","        case "+op.PUSH_EMPTY_ARRAY+":","          stack.push([]);","          ip++;","          break;","","        case "+op.PUSH_CURR_POS+":","          stack.push(peg$currPos);","          ip++;","          break;","","        case "+op.POP+":","          stack.pop();","          ip++;","          break;","","        case "+op.POP_CURR_POS+":","          peg$currPos = stack.pop();","          ip++;","          break;","","        case "+op.POP_N+":","          stack.length -= bc[ip + 1];","          ip += 2;","          break;","","        case "+op.NIP+":","          stack.splice(-2, 1);","          ip++;","          break;","","        case "+op.APPEND+":","          stack[stack.length - 2].push(stack.pop());","          ip++;","          break;","","        case "+op.WRAP+":","          stack.push(stack.splice(stack.length - bc[ip + 1], bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.TEXT+":","          stack.push(input.substring(stack.pop(), peg$currPos));","          ip++;","          break;","","        case "+op.IF+":",indent10(n("stack[stack.length - 1]",0)),"","        case "+op.IF_ERROR+":",indent10(n("stack[stack.length - 1] === peg$FAILED",0)),"","        case "+op.IF_NOT_ERROR+":",indent10(n("stack[stack.length - 1] !== peg$FAILED",0)),"","        case "+op.WHILE_NOT_ERROR+":",indent10((e="stack[stack.length - 1] !== peg$FAILED",["if ("+e+") {","  ends.push(end);","  ips.push(ip);","","  end = ip + 2 + bc[ip + 1];","  ip += 2;","} else {","  ip += 2 + bc[ip + 1];","}","","break;"].join("\n"))),"","        case "+op.MATCH_ANY+":",indent10(n("input.length > peg$currPos",0)),"","        case "+op.MATCH_STRING+":",indent10(n("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length) === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_STRING_IC+":",indent10(n("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length).toLowerCase() === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_REGEXP+":",indent10(n("peg$consts[bc[ip + 1]].test(input.charAt(peg$currPos))",1)),"","        case "+op.ACCEPT_N+":","          stack.push(input.substr(peg$currPos, bc[ip + 1]));","          peg$currPos += bc[ip + 1];","          ip += 2;","          break;","","        case "+op.ACCEPT_STRING+":","          stack.push(peg$consts[bc[ip + 1]]);","          peg$currPos += peg$consts[bc[ip + 1]].length;","          ip += 2;","          break;","","        case "+op.FAIL+":","          stack.push(peg$FAILED);","          if (peg$silentFails === 0) {","            peg$fail(peg$consts[bc[ip + 1]]);","          }","          ip += 2;","          break;","","        case "+op.LOAD_SAVED_POS+":","          peg$savedPos = stack[stack.length - 1 - bc[ip + 1]];","          ip += 2;","          break;","","        case "+op.UPDATE_SAVED_POS+":","          peg$savedPos = peg$currPos;","          ip++;","          break;","","        case "+op.CALL+":",indent10(["params = bc.slice(ip + 4, ip + 4 + bc[ip + 3]);","for (i = 0; i < bc[ip + 3]; i++) {","  params[i] = stack[stack.length - 1 - params[i]];","}","","stack.splice(","  stack.length - bc[ip + 2],","  bc[ip + 2],","  peg$consts[bc[ip + 1]].apply(null, params)",");","","ip += 4 + bc[ip + 3];","break;"].join("\n")),"","        case "+op.RULE+":","          stack.push(peg$parseRule(bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.SILENT_FAILS_ON+":","          peg$silentFails++;","          ip++;","          break;","","        case "+op.SILENT_FAILS_OFF+":","          peg$silentFails--;","          ip++;","          break;","","        default:",'          throw new Error("Invalid opcode: " + bc[ip] + ".");',"      }","    }","","    if (ends.length > 0) {","      end = ends.pop();","      ip = ips.pop();","    } else {","      break;","    }","  }"].join("\n")),t.push(indent2(generateRuleFooter("peg$ruleNames[index]","stack[0]"))),t.push("}"),t.join("\n")}function generateRuleFunction(rule){var parts=[],code;function c(e){return"peg$c"+e}function s(e){return"s"+e}var stack={sp:-1,maxSp:-1,push:function(e){var t=s(++this.sp)+" = "+e+";";return this.sp>this.maxSp&&(this.maxSp=this.sp),t},pop:function(e){var t;return void 0===e?s(this.sp--):(t=arrays.map(arrays.range(this.sp-e+1,this.sp+1),s),this.sp-=e,t)},top:function(){return s(this.sp)},index:function(e){return s(this.sp-e)}};function compile(bc){var ip=0,end=bc.length,parts=[],value;function compileCondition(e,t){var n,r,u,i,s=t+3,o=bc[ip+s-2],a=bc[ip+s-1],c=stack.sp;if(ip+=s,n=compile(bc.slice(ip,ip+o)),u=stack.sp,ip+=o,a>0&&(stack.sp=c,r=compile(bc.slice(ip,ip+a)),i=stack.sp,ip+=a,u!==i))throw new Error("Branches of a condition must move the stack pointer in the same way.");parts.push("if ("+e+") {"),parts.push(indent2(n)),a>0&&(parts.push("} else {"),parts.push(indent2(r))),parts.push("}")}function compileLoop(e){var t,n,r=bc[ip+2-1],u=stack.sp;if(ip+=2,t=compile(bc.slice(ip,ip+r)),n=stack.sp,ip+=r,n!==u)throw new Error("Body of a loop can't move the stack pointer.");parts.push("while ("+e+") {"),parts.push(indent2(t)),parts.push("}")}function compileCall(){var e=bc[ip+4-1],t=c(bc[ip+1])+"("+arrays.map(bc.slice(ip+4,ip+4+e),(function(e){return stack.index(e)})).join(", ")+")";stack.pop(bc[ip+2]),parts.push(stack.push(t)),ip+=4+e}for(;ip<end;)switch(bc[ip]){case op.PUSH:parts.push(stack.push(c(bc[ip+1]))),ip+=2;break;case op.PUSH_CURR_POS:parts.push(stack.push("peg$currPos")),ip++;break;case op.PUSH_UNDEFINED:parts.push(stack.push("void 0")),ip++;break;case op.PUSH_NULL:parts.push(stack.push("null")),ip++;break;case op.PUSH_FAILED:parts.push(stack.push("peg$FAILED")),ip++;break;case op.PUSH_EMPTY_ARRAY:parts.push(stack.push("[]")),ip++;break;case op.POP:stack.pop(),ip++;break;case op.POP_CURR_POS:parts.push("peg$currPos = "+stack.pop()+";"),ip++;break;case op.POP_N:stack.pop(bc[ip+1]),ip+=2;break;case op.NIP:value=stack.pop(),stack.pop(),parts.push(stack.push(value)),ip++;break;case op.APPEND:value=stack.pop(),parts.push(stack.top()+".push("+value+");"),ip++;break;case op.WRAP:parts.push(stack.push("["+stack.pop(bc[ip+1]).join(", ")+"]")),ip+=2;break;case op.TEXT:parts.push(stack.push("input.substring("+stack.pop()+", peg$currPos)")),ip++;break;case op.IF:compileCondition(stack.top(),0);break;case op.IF_ERROR:compileCondition(stack.top()+" === peg$FAILED",0);break;case op.IF_NOT_ERROR:compileCondition(stack.top()+" !== peg$FAILED",0);break;case op.WHILE_NOT_ERROR:compileLoop(stack.top()+" !== peg$FAILED",0);break;case op.MATCH_ANY:compileCondition("input.length > peg$currPos",0);break;case op.MATCH_STRING:compileCondition(eval(ast.consts[bc[ip+1]]).length>1?"input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+") === "+c(bc[ip+1]):"input.charCodeAt(peg$currPos) === "+eval(ast.consts[bc[ip+1]]).charCodeAt(0),1);break;case op.MATCH_STRING_IC:compileCondition("input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+").toLowerCase() === "+c(bc[ip+1]),1);break;case op.MATCH_REGEXP:compileCondition(c(bc[ip+1])+".test(input.charAt(peg$currPos))",1);break;case op.ACCEPT_N:parts.push(stack.push(bc[ip+1]>1?"input.substr(peg$currPos, "+bc[ip+1]+")":"input.charAt(peg$currPos)")),parts.push(bc[ip+1]>1?"peg$currPos += "+bc[ip+1]+";":"peg$currPos++;"),ip+=2;break;case op.ACCEPT_STRING:parts.push(stack.push(c(bc[ip+1]))),parts.push(eval(ast.consts[bc[ip+1]]).length>1?"peg$currPos += "+eval(ast.consts[bc[ip+1]]).length+";":"peg$currPos++;"),ip+=2;break;case op.FAIL:parts.push(stack.push("peg$FAILED")),parts.push("if (peg$silentFails === 0) { peg$fail("+c(bc[ip+1])+"); }"),ip+=2;break;case op.LOAD_SAVED_POS:parts.push("peg$savedPos = "+stack.index(bc[ip+1])+";"),ip+=2;break;case op.UPDATE_SAVED_POS:parts.push("peg$savedPos = peg$currPos;"),ip++;break;case op.CALL:compileCall();break;case op.RULE:parts.push(stack.push("peg$parse"+ast.rules[bc[ip+1]].name+"()")),ip+=2;break;case op.SILENT_FAILS_ON:parts.push("peg$silentFails++;"),ip++;break;case op.SILENT_FAILS_OFF:parts.push("peg$silentFails--;"),ip++;break;default:throw new Error("Invalid opcode: "+bc[ip]+".")}return parts.join("\n")}return code=compile(rule.bytecode),parts.push("function peg$parse"+rule.name+"() {"),options.trace?parts.push(["  var "+arrays.map(arrays.range(0,stack.maxSp+1),s).join(", ")+",","      startPos = peg$currPos;"].join("\n")):parts.push("  var "+arrays.map(arrays.range(0,stack.maxSp+1),s).join(", ")+";"),parts.push(indent2(generateRuleHeader('"'+js.stringEscape(rule.name)+'"',asts.indexOfRule(ast,rule.name)))),parts.push(indent2(code)),parts.push(indent2(generateRuleFooter('"'+js.stringEscape(rule.name)+'"',s(0)))),parts.push("}"),parts.join("\n")}function generateToplevel(){var e,t,n,r,u,i=[];return i.push(["function peg$subclass(child, parent) {","  function ctor() { this.constructor = child; }","  ctor.prototype = parent.prototype;","  child.prototype = new ctor();","}","","function peg$SyntaxError(message, expected, found, location) {","  this.message  = message;","  this.expected = expected;","  this.found    = found;","  this.location = location;",'  this.name     = "SyntaxError";',"",'  if (typeof Error.captureStackTrace === "function") {',"    Error.captureStackTrace(this, peg$SyntaxError);","  }","}","","peg$subclass(peg$SyntaxError, Error);","","peg$SyntaxError.buildMessage = function(expected, found) {","  var DESCRIBE_EXPECTATION_FNS = {","        literal: function(expectation) {",'          return "\\"" + literalEscape(expectation.text) + "\\"";',"        },","",'        "class": function(expectation) {','          var escapedParts = "",',"              i;","","          for (i = 0; i < expectation.parts.length; i++) {","            escapedParts += expectation.parts[i] instanceof Array",'              ? classEscape(expectation.parts[i][0]) + "-" + classEscape(expectation.parts[i][1])',"              : classEscape(expectation.parts[i]);","          }","",'          return "[" + (expectation.inverted ? "^" : "") + escapedParts + "]";',"        },","","        any: function(expectation) {",'          return "any character";',"        },","","        end: function(expectation) {",'          return "end of input";',"        },","","        other: function(expectation) {","          return expectation.description;","        }","      };","","  function hex(ch) {","    return ch.charCodeAt(0).toString(16).toUpperCase();","  }","","  function literalEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')","      .replace(/\"/g,  '\\\\\"')","      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function classEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')","      .replace(/\\]/g, '\\\\]')","      .replace(/\\^/g, '\\\\^')","      .replace(/-/g,  '\\\\-')","      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function describeExpectation(expectation) {","    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);","  }","","  function describeExpected(expected) {","    var descriptions = new Array(expected.length),","        i, j;","","    for (i = 0; i < expected.length; i++) {","      descriptions[i] = describeExpectation(expected[i]);","    }","","    descriptions.sort();","","    if (descriptions.length > 0) {","      for (i = 1, j = 1; i < descriptions.length; i++) {","        if (descriptions[i - 1] !== descriptions[i]) {","          descriptions[j] = descriptions[i];","          j++;","        }","      }","      descriptions.length = j;","    }","","    switch (descriptions.length) {","      case 1:","        return descriptions[0];","","      case 2:",'        return descriptions[0] + " or " + descriptions[1];',"","      default:",'        return descriptions.slice(0, -1).join(", ")','          + ", or "',"          + descriptions[descriptions.length - 1];","    }","  }","","  function describeFound(found) {",'    return found ? "\\"" + literalEscape(found) + "\\"" : "end of input";',"  }","",'  return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";',"};",""].join("\n")),options.trace&&i.push(["function peg$DefaultTracer() {","  this.indentLevel = 0;","}","","peg$DefaultTracer.prototype.trace = function(event) {","  var that = this;","","  function log(event) {","    function repeat(string, n) {",'       var result = "", i;',"","       for (i = 0; i < n; i++) {","         result += string;","       }","","       return result;","    }","","    function pad(string, length) {",'      return string + repeat(" ", length - string.length);',"    }","",'    if (typeof console === "object") {',"      console.log(",'        event.location.start.line + ":" + event.location.start.column + "-"','          + event.location.end.line + ":" + event.location.end.column + " "','          + pad(event.type, 10) + " "','          + repeat("  ", that.indentLevel) + event.rule',"      );","    }","  }","","  switch (event.type) {",'    case "rule.enter":',"      log(event);","      this.indentLevel++;","      break;","",'    case "rule.match":',"      this.indentLevel--;","      log(event);","      break;","",'    case "rule.fail":',"      this.indentLevel--;","      log(event);","      break;","","    default:",'      throw new Error("Invalid event type: " + event.type + ".");',"  }","};",""].join("\n")),i.push(["function peg$parse(input, options) {","  options = options !== void 0 ? options : {};","","  var peg$FAILED = {},",""].join("\n")),"size"===options.optimize?(e="{ "+arrays.map(options.allowedStartRules,(function(e){return e+": "+asts.indexOfRule(ast,e)})).join(", ")+" }",t=asts.indexOfRule(ast,options.allowedStartRules[0]),i.push(["      peg$startRuleIndices = "+e+",","      peg$startRuleIndex   = "+t+","].join("\n"))):(n="{ "+arrays.map(options.allowedStartRules,(function(e){return e+": peg$parse"+e})).join(", ")+" }",r="peg$parse"+options.allowedStartRules[0],i.push(["      peg$startRuleFunctions = "+n+",","      peg$startRuleFunction  = "+r+","].join("\n"))),i.push(""),i.push(indent6(generateTables())),i.push(["","      peg$currPos          = 0,","      peg$savedPos         = 0,","      peg$posDetailsCache  = [{ line: 1, column: 1 }],","      peg$maxFailPos       = 0,","      peg$maxFailExpected  = [],","      peg$silentFails      = 0,",""].join("\n")),options.cache&&i.push(["      peg$resultsCache = {},",""].join("\n")),options.trace&&("size"===options.optimize&&(u="["+arrays.map(ast.rules,(function(e){return'"'+js.stringEscape(e.name)+'"'})).join(", ")+"]",i.push(["      peg$ruleNames = "+u+",",""].join("\n"))),i.push(['      peg$tracer = "tracer" in options ? options.tracer : new peg$DefaultTracer(),',""].join("\n"))),i.push(["      peg$result;",""].join("\n")),"size"===options.optimize?i.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleIndices)) {",'      throw new Error("Can\'t start parsing from rule \\"" + options.startRule + "\\".");',"    }","","    peg$startRuleIndex = peg$startRuleIndices[options.startRule];","  }"].join("\n")):i.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleFunctions)) {",'      throw new Error("Can\'t start parsing from rule \\"" + options.startRule + "\\".");',"    }","","    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];","  }"].join("\n")),i.push(["","  function text() {","    return input.substring(peg$savedPos, peg$currPos);","  }","","  function location() {","    return peg$computeLocation(peg$savedPos, peg$currPos);","  }","","  function expected(description, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildStructuredError(","      [peg$otherExpectation(description)],","      input.substring(peg$savedPos, peg$currPos),","      location","    );","  }","","  function error(message, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildSimpleError(message, location);","  }","","  function peg$literalExpectation(text, ignoreCase) {",'    return { type: "literal", text: text, ignoreCase: ignoreCase };',"  }","","  function peg$classExpectation(parts, inverted, ignoreCase) {",'    return { type: "class", parts: parts, inverted: inverted, ignoreCase: ignoreCase };',"  }","","  function peg$anyExpectation() {",'    return { type: "any" };',"  }","","  function peg$endExpectation() {",'    return { type: "end" };',"  }","","  function peg$otherExpectation(description) {",'    return { type: "other", description: description };',"  }","","  function peg$computePosDetails(pos) {","    var details = peg$posDetailsCache[pos], p;","","    if (details) {","      return details;","    } else {","      p = pos - 1;","      while (!peg$posDetailsCache[p]) {","        p--;","      }","","      details = peg$posDetailsCache[p];","      details = {","        line:   details.line,","        column: details.column","      };","","      while (p < pos) {","        if (input.charCodeAt(p) === 10) {","          details.line++;","          details.column = 1;","        } else {","          details.column++;","        }","","        p++;","      }","","      peg$posDetailsCache[pos] = details;","      return details;","    }","  }","","  function peg$computeLocation(startPos, endPos) {","    var startPosDetails = peg$computePosDetails(startPos),","        endPosDetails   = peg$computePosDetails(endPos);","","    return {","      start: {","        offset: startPos,","        line:   startPosDetails.line,","        column: startPosDetails.column","      },","      end: {","        offset: endPos,","        line:   endPosDetails.line,","        column: endPosDetails.column","      }","    };","  }","","  function peg$fail(expected) {","    if (peg$currPos < peg$maxFailPos) { return; }","","    if (peg$currPos > peg$maxFailPos) {","      peg$maxFailPos = peg$currPos;","      peg$maxFailExpected = [];","    }","","    peg$maxFailExpected.push(expected);","  }","","  function peg$buildSimpleError(message, location) {","    return new peg$SyntaxError(message, null, null, location);","  }","","  function peg$buildStructuredError(expected, found, location) {","    return new peg$SyntaxError(","      peg$SyntaxError.buildMessage(expected, found),","      expected,","      found,","      location","    );","  }",""].join("\n")),"size"===options.optimize?(i.push(indent2(generateInterpreter())),i.push("")):arrays.each(ast.rules,(function(e){i.push(indent2(generateRuleFunction(e))),i.push("")})),ast.initializer&&(i.push(indent2(ast.initializer.code)),i.push("")),"size"===options.optimize?i.push("  peg$result = peg$parseRule(peg$startRuleIndex);"):i.push("  peg$result = peg$startRuleFunction();"),i.push(["","  if (peg$result !== peg$FAILED && peg$currPos === input.length) {","    return peg$result;","  } else {","    if (peg$result !== peg$FAILED && peg$currPos < input.length) {","      peg$fail(peg$endExpectation());","    }","","    throw peg$buildStructuredError(","      peg$maxFailExpected,","      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,","      peg$maxFailPos < input.length","        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)","        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)","    );","  }","}"].join("\n")),i.join("\n")}function generateWrapper(e){function t(){return["/*"," * Generated by PEG.js 0.10.0."," *"," * http://pegjs.org/"," */"].join("\n")}function n(){return options.trace?["{","  SyntaxError:   peg$SyntaxError,","  DefaultTracer: peg$DefaultTracer,","  parse:         peg$parse","}"].join("\n"):["{","  SyntaxError: peg$SyntaxError,","  parse:       peg$parse","}"].join("\n")}return{bare:function(){return[t(),"(function() {",'  "use strict";',"",indent2(e),"",indent2("return "+n()+";"),"})()"].join("\n")},commonjs:function(){var r=[],u=objects.keys(options.dependencies),i=arrays.map(u,(function(e){return e+' = require("'+js.stringEscape(options.dependencies[e])+'")'}));return r.push([t(),"",'"use strict";',""].join("\n")),i.length>0&&(r.push("var "+i.join(", ")+";"),r.push("")),r.push([e,"","module.exports = "+n()+";",""].join("\n")),r.join("\n")},amd:function(){var r=objects.values(options.dependencies),u=objects.keys(options.dependencies),i="["+arrays.map(r,(function(e){return'"'+js.stringEscape(e)+'"'})).join(", ")+"]",s=u.join(", ");return[t(),"define("+i+", function("+s+") {",'  "use strict";',"",indent2(e),"",indent2("return "+n()+";"),"});",""].join("\n")},globals:function(){return[t(),"(function(root) {",'  "use strict";',"",indent2(e),"",indent2("root."+options.exportVar+" = "+n()+";"),"})(this);",""].join("\n")},umd:function(){var r=[],u=objects.values(options.dependencies),i=objects.keys(options.dependencies),s="["+arrays.map(u,(function(e){return'"'+js.stringEscape(e)+'"'})).join(", ")+"]",o=arrays.map(u,(function(e){return'require("'+js.stringEscape(e)+'")'})).join(", "),a=i.join(", ");return r.push([t(),"(function(root, factory) {",'  if (typeof define === "function" && define.amd) {',"    define("+s+", factory);",'  } else if (typeof module === "object" && module.exports) {',"    module.exports = factory("+o+");"].join("\n")),null!==options.exportVar&&r.push(["  } else {","    root."+options.exportVar+" = factory();"].join("\n")),r.push(["  }","})(this, function("+a+") {",'  "use strict";',"",indent2(e),"",indent2("return "+n()+";"),"});",""].join("\n")),r.join("\n")}}[options.format]()}ast.code=generateWrapper(generateToplevel())}module.exports=generateJS},function(e,t){e.exports="\n{\n    var _\n\n    if (typeof window == 'undefined') {\n        _ = require('lodash')\n    }\n    else {\n        _ = window._\n    }\n    \n    const DEEP_NAME = '__deepIndex'\n\n    var pushIns = []\n\n    function increment(variable, sign, expression, variables=[]) {\n        let _var\n       \n        if (variable.variable){\n            _var = variable\n        }\n        else {\n            _var = { variable }\n        }\n\n        const value = {\n            variables: [_var, ...variables],\n            expression: `{0}${sign.charAt(0)}${expression}`\n        }\n\n        if (variable.variable) {\n            _var = {}\n            for (let key in variable) {\n                if (key == 'type') {\n                    _var[key] = 'assignObject'\n                    continue\n                }\n                _var[key] = variable[key]\n            }\n        }\n\n        return _.merge(_var, { value })\n    }\n\n    function stringParser(text) {\n        let variables = []\n        let index = -1\n        text = text\n            .map(letter => {\n                if (_.isString(letter)) return letter\n                variables.push(letter)\n                index++\n                return '{' + index + '}'\n            })\n            .join('')\n        if (variables.length == 0) {\n            return text\n        }\n        return {\n            text,\n            variables\n        }\n    }\n\n    function normalizeIns(instructions) {\n        return instructions\n            .reduce((acc, val) => acc.concat(val), [])\n            .filter(it => it)\n    }\n\n}\n\n    \nStart\n    = InstructionList\n\nInstructionList\n    = _ list:Instruction* _ {\n        return list.filter(it => it)\n    }\n\nInstruction\n    = _ decorators:DecoratorList? _ ins:(Comment / Condition / ForOfLoop / Increment / Assign / AssignObject / Function / ExecuteFunction) Nl* _ {\n        const _location = location()\n        if (ins) {\n            ins._file = _location\n            if (decorators) {\n                ins.decorators = decorators\n            }\n        }\n        return ins\n    }\n\n// Assign Variable\n\nDeepArray\n    = index:(_ '[' _ Value _ ']')+ {\n        let deep = []\n        for (let val of index) {\n            deep.push(val[3])\n        }\n        return deep\n    }\n\nGetObject\n    = variable:Variable _ deep:(DeepObject / DeepArray)+ {\n         deep = _.flatten(deep)\n         return { variable, deep, type: 'object' }\n    }\n\nDeepObject\n    = deep:('.' _ Variable S DeepArray?)+ {\n        let array = []\n        for (let d of deep) {\n            array.push(d[2])\n            if (d[4]) {\n                array = array.concat(d[4])\n            }\n        }\n        return array\n    }\n\nIncrementVariable\n    = variable:(GetObject / Variable) {\n        return variable\n    }\n\nIncrement\n    = variable:IncrementVariable _ sign:('++' / '--') {\n         return increment(variable, sign, 1)\n    }\n    / IncrementExpression\n\nIncrementExpression\n    = variable:IncrementVariable _ sign:('+=' / '-=') _ expr:Expression {\n        let { variables, expression } = expr\n        if (!variables) variables = []\n        if (expression) {\n            expression = expression.replace(/\\{([0-9]+)\\}/g, (match, index) => {\n                return `{${+index+1}}`\n            })\n        }\n        else if (expr.variable) {\n            expression = '{1}'\n            variables.push(expr)\n        }\n        else {\n            expression = expr\n        }\n        return increment(variable, sign, expression, variables)\n    }\n\nAssign\n    = variable:Variable _ value:RightAssign {\n        return { variable, value }\n    }\n\nAssignObject\n    = object:GetObject _ value:RightAssign {\n        object.type = 'assignObject'\n        object.value = value\n        return object\n    }\n\n\nRightAssign \n    = '=' _ value:(Value) {\n        return value\n    }\n\nValue =  \n    RegExp / StringBackQuote / String / Null / Array / obj:Object { \n        // Clean __deepIndex\n        const index = obj[DEEP_NAME]\n        if (!index) return obj\n        for (let address of index) {\n            let subobj = _.get(obj, address.replace(/\\.[^.]+$/, ''))\n            delete subobj[DEEP_NAME]\n        }\n        return obj\n    } / Expression\n\n// For Loop\n\nForLoop\n    = 'for' _ '(' _ assign:Assign _ ';' _ condition:Expression _ ';' _ increment:Increment _ ')' _ instructions:ConditionInstruction {\n   \n    } \n\nForOfLoop\n    = 'for' _ '(' _  varLocal:VariableName _ 'of' _ array:Value _ ')' _ instructions:ConditionInstruction {\n        let obj = { varLocal, array, instructions }\n        obj.loop = true\n        return obj\n    }\n\n// Condition\n\nCondition \n    = keyword:('while' / 'if'?) _ '(' _ special:SpecialKeyword? _ condition:Expression _ ')' _ instructions:ConditionInstruction  _ conditionsElse:ConditionElse? {\n        let obj = { condition, instructions, conditionsElse }\n        if (keyword == 'while') {\n            obj.loop = true\n        }\n        if (special) {\n            obj.keyword = special\n        }\n        return obj\n    }\n\nConditionInstruction\n    = '{' _  instructions:InstructionFunction* _ '}' {\n        return normalizeIns(instructions)\n    }\n     / instruction:InstructionFunction {\n        return [instruction]\n    }\n\nConditionSign \n    = keyword:('and' / '&&' / 'or' / '||' / 'xor' / ([><=!] '=') / '<' / '>') {\n        if (keyword == '&&') keyword = 'and'\n        if (keyword == '||') keyword = 'or'\n        if (_.isArray(keyword)) keyword = keyword.join('')\n        return ' ' + keyword + ' '\n    }\n\nConditionElse =\n    'else' _ ins:(instructions:ConditionInstruction / instructions:Condition*)  {\n        return {\n            instructions: ins\n        }\n    }\n\nSpecialKeyword\n    = 'unknown' / 'defined'\n\nNot\n    = keyword:('!' / 'not') {\n        if (keyword == '!') keyword = 'not'\n        return keyword + ' '\n    }\n\n// Expression\n\nExpression \"expression\"\n  =  head:(Not? _ Factor) tail:( [ ]* (ConditionSign / '+' / '-' / '**' / '*' / '/' / '%' ) _ Factor)* {\n\n        const not = head[0]\n        const isExpr = tail.length > 0 || not\n\n        head = head[2]\n\n        let result = head\n        let variables = []\n        let ret = {}\n        let j=0\n\n        const isVariable = obj => obj.variable || obj.type === 'executeFn'\n\n        if (isExpr && isVariable(head)) {\n            variables.push(head)\n            result = '{' + j + '}'\n            j++\n        }\n\n        for (let i = 0; i < tail.length; i++) {\n            let val = tail[i][3]\n            if (isVariable(val)) {\n                variables.push(val)\n                result += tail[i][1] +  '{' + j + '}'\n                j++\n                continue\n            }\n            result += tail[i][1] + val\n        }\n\n        if (not) {\n            result = not + result\n        }\n\n        if (!isExpr) {\n            if (!_.isNaN(+head) && !_.isBoolean(head)) {\n                head = +head\n            }\n            return head\n        }\n\n        if (variables.length > 0) {\n            ret.variables = variables\n        }\n        ret.expression = result\n\n        return ret\n    }\n\nFactor\n  = \"(\" _ expr:Expression _ \")\" { \n       if (expr.expression) {\n           expr = expr.expression\n       }\n       return '(' + expr + ')'\n    }\n  / Integer / fn:ExecuteFunction {\n      let name = fn.name\n      pushIns.push(fn)\n      if (name.type == 'object') {\n        name = name.variable + '-' + name.deep.join('-')\n      }\n      return {\n          variable: '__return_' + name\n      }\n  } / StringInExpression / Boolean\n  / GetObject / VariableName\n\n// Group\n\nGroup\n    = '---' _ group:Text+ _ '---' {\n        return { group }\n    }\n\n// Text\n\nText \n    = '>' _ text:(CharText)* _ params:Array? {\n        text = stringParser(text)\n        if (_.isString(text)) {\n            text = text.trim()\n        }\n        return { output: text, params }\n    }\n\nVariable \"variable\" = name:([\\$:]? [a-zA-Z_0-9]+) { \n        return text() \n    }\n\nVariableName\n    = Variable {\n        return { variable : text() }\n    } \n\n// Execute Fonction\n\nExecuteFunction\n    = name:(GetObject / Variable) \"\\n\"* '(' _ params:Params* _ ')' {\n        return { type: 'executeFn', name, params }\n    }\n\nParams\n    = val:Value _ ','? _ {\n        return val\n    }\n\n// Decorator\n\nDecoratorList\n    = decorators:Decorator* {\n        return decorators\n    }\n    \n\nDecorator 'decorator' \n    = '@' name:DecoratorName _ '(' _ params:Params* _ ')' _ instructions:('{' _ DecoratorInstruction* _ '}')? Nl* {\n        let obj = { name, params }\n        if (instructions) obj.instructions = instructions[2]\n        return obj\n    }\n\nDecoratorName = [A-Z][a-z]+ {\n    return text()\n}\n\n\nDecoratorInstruction\n    = _ ins:(InstructionFunction) _ Nl* {\n        return ins\n    }\n\n// Types\n\nFunction 'function'\n    = name:Variable _ '(' _ params:FunctionParameters? _ ')' _ '{' _  instructions:InstructionFunction* _ '}' {\n        instructions = normalizeIns(instructions)\n        return { name, params, type: 'function', instructions }\n    }\n\nFunctionParameters 'function parameters'\n    = params:(_ Variable _ ','?)+ {\n        return params.map(p => p[1])\n    }\n\nFunctionReturn 'function return'\n    = 'return' _ functionReturn:Value? {\n        return { 'return': functionReturn }\n    }\n\nInstructionFunction\n    = _ ins:(Instruction / InstructionText / FunctionReturn) Nl* _ {\n        if (pushIns.length > 0) {\n            let multiIns = [...pushIns, ins]\n            pushIns = []\n            return multiIns\n        }\n        return ins\n    }\n\nInstructionText\n    = _ decorators:DecoratorList? _ output:(Text / Group) {\n        if (decorators) {\n            output.decorators = decorators\n        }\n        return output\n    }\n\nObject 'object'\n    = '{' _ keys:( _ Variable _ ':' _ Value _ ','?)* _ '}' { \n        const realObject = {}\n        for (let object of keys) {\n            let key = object[1]\n            let val = object[5]\n            realObject[key] = val\n            if (!realObject[DEEP_NAME]) realObject[DEEP_NAME] = []\n            if (val[DEEP_NAME] && val[DEEP_NAME].length !== 0) {\n                realObject[DEEP_NAME] = [...realObject[DEEP_NAME], ...val[DEEP_NAME].map(d => key + '.' + d)]\n            }\n            else {\n                realObject[DEEP_NAME].push(key)\n            }\n        }\n        return realObject\n    }\n\nArray 'array'\n    = '[' _ array:(_ Value _ ','?)* _ ']' { \n        const realArray = []\n        for (let val of array) {\n            realArray.push(val[1])\n        }\n        return realArray\n    }\n\nInteger 'integer'\n    = [-+]? _ [0-9]+ S ( Dot [0-9]+)? { \n        return +text() \n    }\n\nVariableString\n    = '{' _ value:Value _ '}' {\n        return { value }\n    }\n\nStringInExpression 'string in expression'\n    = str: String {\n        const withQuote = text => `\"${text}\"`\n        if (str.variables) {\n            return withQuote(str.text)\n        }\n        return withQuote(str)\n    }\n\nString 'string'\n  = Quote text: NotQuote* Quote { \n      return stringParser(text)\n  }\n\nStringBackQuote 'string not parsed'\n  = BackQuote t: NotBackQuote* BackQuote { \n      return t.join('')\n  }\n\nRegExp 'Regular Expression'\n    = Slash _  regexp: NotSlash* _ Slash flags:[gimuy]* {\n        return { regexp: regexp.join(''), flags }\n    }\n\nBoolean = bool:('true' / 'false') { \n    return bool == 'true' ? true : false\n}\n\nNull = 'null' {\n    return null\n}\n\n// Comment\n\nComment\n    = MultiComment / SingleComment\n\nMultiComment\n    = '/*' (!'*/' .)* '*/'  {\n        return \n    }\n\nSingleComment = '//' [^\\n]* {\n        return \n    }\n\n// Characters\n\nCharText\n  = char:(VariableString / [^\\n\\[]) { return char }\nNotQuote\n  = !Quote char:(VariableString / .) { return char }\n\nQuote = [']\n\nSlash = [/]\nNotSlash = !Slash char:(.) { return char }\n\nBackQuote = '`'\n\nNotBackQuote = !BackQuote char:. { return char }\n\nDot = '.'\n\nNl = \"\\n\"\n\nS = [ \\t]*\n\n_ 'whitespace' = [ \\t\\n\\r]*\n"}]);