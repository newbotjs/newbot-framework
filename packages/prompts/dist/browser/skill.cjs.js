!function(e,n){for(var t in n)e[t]=n[t]}(exports,function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=8)}([function(e,n){e.exports=require("chrono-node")},function(e,n){e.exports=require("@microsoft/recognizers-text-choice")},function(e,n){e.exports=require("validator/lib/isEmail")},function(e,n){e.exports={formats:{quickReplies:(e,[n])=>({text:e,actions:n}),email:e=>({text:e,email:!0}),phone:e=>({text:e,phone:!0}),image:(e,n)=>({text:e,image:n}),video:(e,n)=>({text:e,video:n}),buttons:(e,[n])=>({text:e,buttons:n}),carousel:(e,[n,t])=>({text:e,cards:n,actions:t})},shareFormats:!0}},function(e,n){e.exports=require("@microsoft/recognizers-text-number")},function(e,n){e.exports=require("@microsoft/recognizers-text-sequence")},function(e){e.exports=JSON.parse('[{"what is your email":"what is your email?","what is your phone":"what is your phone number?","your email is invalid":"your email is invalid!","your phone is invalid":"your phone number is invalid!","give me date":"give me a date","yes":"yes","no":"no","not understand confirmation":"i did not understand the confirmation","number max":"Give a number less than %d","number min":"Give a number greater than %d"}]')},function(e){e.exports=JSON.parse('[{"what is your email":"quel est votre email ?","what is your phone":"quel est votre numéro de téléphone ?","your email is invalid":"votre email est invalide !","your phone is invalid":"votre numéro de téléphone est invalide !","give me date":"donnez-moi une date","yes":"oui","no":"non","not understand confirmation":"je n\'ai pas compris la confirmation","number max":"Donnez-un nombre inférieur à %d","number min":"Donnez-un nombre supérieur à %d"}]')},function(e,n,t){e.exports=t(9)},function(e,n,t){"use strict";t.r(n);var o=t(2),r=t.n(o),a=t(3),i=t.n(a),s=t(0),l=t.n(s),u=t(1),m=t.n(u),c=t(4),f=t.n(c),p=t(5),d=t.n(p),b={code:"email() {\n    @Format('email')\n    > what is your email\n\n    Prompt()\n\n    bool = isEmail(:text)\n    if (not bool) {\n        > your email is invalid\n        email()\n    }\n    return :text\n}\n\nphone() {\n    @Format('phone')\n    > what is your phone\n\n     Prompt()\n\n     phone = parsePhone(:text)\n\n      if (unknown phone) {\n        > your phone is invalid\n        phone()\n    }\n\n    return phone\n}\n\ntime(text) {\n    @Format('date')\n    > { text }\n\n    Prompt()\n\n    value = parseDate(:text)\n\n    if (not value) {\n        > give me date\n        time(text)\n    }\n\n    return value\n}\n\nconfirm(text) {\n    @Format('quickReplies', ['#yes', '#no'])\n    > { text }\n\n    Prompt()\n\n    bool = parseChoice(:text)\n\n    if (unknown bool) {\n        > not understand confirmation\n        confirm(text)\n    }\n\n    return bool\n}\n\nnumber(text, options) {\n    min = options.min\n    max = options.max\n\n    @Format('number', min, max)\n    > { text }\n\n    Prompt()\n\n    number = parseNumber(:text)\n\n    if (unknown number) {\n        > not understand confirmation\n        number(text, options)\n    }\n    else {\n        if (defined min && number < min) {\n            > number min [min]\n            number(text, options)\n        }\n        else if (defined max && number > max) {\n            > number max [max]\n            number(text, options)\n        }\n    }\n\n    return number\n}\n\n",compiled:[{name:"email",params:null,type:"function",instructions:[{output:"what is your email",params:null,decorators:[{name:"Format",params:["email"]}]},{type:"executeFn",name:"Prompt",params:[],_file:{start:{offset:61,line:5,column:5},end:{offset:75,line:7,column:5}},decorators:[]},{type:"executeFn",name:"isEmail",params:[{variable:":text"}]},{variable:"bool",value:{variable:"__return_isEmail"},_file:{start:{offset:75,line:7,column:5},end:{offset:101,line:8,column:5}},decorators:[]},{condition:{variables:[{variable:"bool"}],expression:"not {0}"},instructions:[{output:"your email is invalid",params:null,decorators:[]},{type:"executeFn",name:"email",params:[],_file:{start:{offset:157,line:10,column:9},end:{offset:169,line:11,column:5}},decorators:[]}],conditionsElse:null,_file:{start:{offset:101,line:8,column:5},end:{offset:175,line:12,column:5}},decorators:[]},{return:{variable:":text"}}],_file:{start:{offset:0,line:1,column:1},end:{offset:191,line:15,column:1}},decorators:[]},{name:"phone",params:null,type:"function",instructions:[{output:"what is your phone",params:null,decorators:[{name:"Format",params:["phone"]}]},{type:"executeFn",name:"Prompt",params:[],_file:{start:{offset:253,line:19,column:6},end:{offset:268,line:21,column:6}},decorators:[]},{type:"executeFn",name:"parsePhone",params:[{variable:":text"}]},{variable:"phone",value:{variable:"__return_parsePhone"},_file:{start:{offset:268,line:21,column:6},end:{offset:301,line:23,column:7}},decorators:[]},{condition:{variable:"phone"},instructions:[{output:"your phone is invalid",params:null,decorators:[]},{type:"executeFn",name:"phone",params:[],_file:{start:{offset:362,line:25,column:9},end:{offset:374,line:26,column:5}},decorators:[]}],conditionsElse:null,keyword:"unknown",_file:{start:{offset:301,line:23,column:7},end:{offset:381,line:28,column:5}},decorators:[]},{return:{variable:"phone"}}],_file:{start:{offset:191,line:15,column:1},end:{offset:397,line:31,column:1}},decorators:[]},{name:"time",params:["text"],type:"function",instructions:[{output:{text:"{0}",variables:[{value:{variable:"text"}}]},params:null,decorators:[{name:"Format",params:["date"]}]},{type:"executeFn",name:"Prompt",params:[],_file:{start:{offset:450,line:35,column:5},end:{offset:464,line:37,column:5}},decorators:[]},{type:"executeFn",name:"parseDate",params:[{variable:":text"}]},{variable:"value",value:{variable:"__return_parseDate"},_file:{start:{offset:464,line:37,column:5},end:{offset:494,line:39,column:5}},decorators:[]},{condition:{variables:[{variable:"value"}],expression:"not {0}"},instructions:[{output:"give me date",params:null,decorators:[]},{type:"executeFn",name:"time",params:[{variable:"text"}],_file:{start:{offset:542,line:41,column:9},end:{offset:557,line:42,column:5}},decorators:[]}],conditionsElse:null,_file:{start:{offset:494,line:39,column:5},end:{offset:564,line:44,column:5}},decorators:[]},{return:{variable:"value"}}],_file:{start:{offset:397,line:31,column:1},end:{offset:580,line:47,column:1}},decorators:[]},{name:"confirm",params:["text"],type:"function",instructions:[{output:{text:"{0}",variables:[{value:{variable:"text"}}]},params:null,decorators:[{name:"Format",params:["quickReplies",["#yes","#no"]]}]},{type:"executeFn",name:"Prompt",params:[],_file:{start:{offset:661,line:51,column:5},end:{offset:675,line:53,column:5}},decorators:[]},{type:"executeFn",name:"parseChoice",params:[{variable:":text"}]},{variable:"bool",value:{variable:"__return_parseChoice"},_file:{start:{offset:675,line:53,column:5},end:{offset:706,line:55,column:5}},decorators:[]},{condition:{variable:"bool"},instructions:[{output:"not understand confirmation",params:null,decorators:[]},{type:"executeFn",name:"confirm",params:[{variable:"text"}],_file:{start:{offset:772,line:57,column:9},end:{offset:790,line:58,column:5}},decorators:[]}],conditionsElse:null,keyword:"unknown",_file:{start:{offset:706,line:55,column:5},end:{offset:797,line:60,column:5}},decorators:[]},{return:{variable:"bool"}}],_file:{start:{offset:580,line:47,column:1},end:{offset:812,line:63,column:1}},decorators:[]},{name:"number",params:["text","options"],type:"function",instructions:[{variable:"min",value:{variable:"options",deep:["min"],type:"object"},_file:{start:{offset:840,line:64,column:5},end:{offset:862,line:65,column:5}},decorators:[]},{variable:"max",value:{variable:"options",deep:["max"],type:"object"},_file:{start:{offset:862,line:65,column:5},end:{offset:885,line:67,column:5}},decorators:[]},{output:{text:"{0}",variables:[{value:{variable:"text"}}]},params:null,decorators:[{name:"Format",params:["number",{variable:"min"},{variable:"max"}]}]},{type:"executeFn",name:"Prompt",params:[],_file:{start:{offset:933,line:70,column:5},end:{offset:947,line:72,column:5}},decorators:[]},{type:"executeFn",name:"parseNumber",params:[{variable:":text"}]},{variable:"number",value:{variable:"__return_parseNumber"},_file:{start:{offset:947,line:72,column:5},end:{offset:980,line:74,column:5}},decorators:[]},{condition:{variable:"number"},instructions:[{output:"not understand confirmation",params:null,decorators:[]},{type:"executeFn",name:"number",params:[{variable:"text"},{variable:"options"}],_file:{start:{offset:1048,line:76,column:9},end:{offset:1074,line:77,column:5}},decorators:[]}],conditionsElse:{instructions:[{condition:{variables:[{variable:"min"},{variable:"number"},{variable:"min"}],expression:"{0} and {1} < {2}"},instructions:[{output:"number min",params:[{variable:"min"}],decorators:[]},{type:"executeFn",name:"number",params:[{variable:"text"},{variable:"options"}],_file:{start:{offset:1173,line:81,column:13},end:{offset:1203,line:82,column:9}},decorators:[]}],conditionsElse:{instructions:[{condition:{variables:[{variable:"max"},{variable:"number"},{variable:"max"}],expression:"{0} and {1} > {2}"},instructions:[{output:"number max",params:[{variable:"max"}],decorators:[]},{type:"executeFn",name:"number",params:[{variable:"text"},{variable:"options"}],_file:{start:{offset:1296,line:85,column:13},end:{offset:1326,line:86,column:9}},decorators:[]}],conditionsElse:null,keyword:"defined",_file:{start:{offset:1218,line:83,column:14},end:{offset:1332,line:87,column:5}},decorators:[]}]},keyword:"defined",_file:{start:{offset:1095,line:79,column:9},end:{offset:1332,line:87,column:5}},decorators:[]}]},keyword:"unknown",_file:{start:{offset:980,line:74,column:5},end:{offset:1339,line:89,column:5}},decorators:[]},{return:{variable:"number"}}],_file:{start:{offset:812,line:63,column:1},end:{offset:1356,line:92,column:1}},decorators:[]}]},v={packages:{en_EN:t(6),fr_FR:t(7)}};const x=function(e){const{user:n}=e;let t,o=n.getLang();switch(o=o?o.split("_")[0]:"en",l.a[o]||(o="en"),o){case"en":t="English";break;case"fr":t="French"}return{langId:o,langName:t}},y=function(e,n,t){let o;const{langName:r}=x(t);switch(e){case"number":o=f.a.recognizeNumber;break;case"bool":o=m.a.recognizeBoolean;break;case"phone":o=d.a.recognizePhoneNumber}const a=o(n,m.a.Culture[r]);return a.length>0?a[0].resolution.value:null},h=function(e,n,{session:t}){return"website"===t.message.source?{text:e,...n}:e};n.default={code:b,languages:v,functions:{isEmail:r.a,parseDate(e){const{langId:n}=x(this.converse);return l.a[n].parseDate(e)},parseChoice(e){return y("bool",e,this.converse)},parseNumber(e){return y("number",e,this.converse)},parsePhone(e){return y("phone",e,this.converse)}},skills:{formats:i.a},formats:{date:(e,n,t)=>h(e,{date:!0},t),number:(e,[n,t],o)=>h(e,{number:{min:n,max:t}},o)}}}]).default);